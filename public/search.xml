<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ssm���</title>
      <link href="/2022/04/17/ssm%E6%A1%86%E6%9E%B6/"/>
      <url>/2022/04/17/ssm%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>spring-mvc4</title>
      <link href="/2022/04/14/spring-mvc4/"/>
      <url>/2022/04/14/spring-mvc4/</url>
      
        <content type="html"><![CDATA[<h1 id="�l����ϴ�������"><a href="#�l����ϴ�������" class="headerlink" title="�ļ����ϴ�������"></a>�ļ����ϴ�������</h1><ul><li><p>�˳���������һƪ���´���**<a href="https://kairong6.gitee.io/2022/04/14/spring-mvc3/">spring-mvc3</a>**</p></li><li><p>���������ҽ���һ���򵥰��н����ο�</p></li></ul><h1 id="�������jar��"><a href="#�������jar��" class="headerlink" title="�������jar��"></a>�������jar��</h1><ul><li>��Ҫ��pom.xml���������ļ��ϴ���jar��</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- �ļ��ϴ������� --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="�l�����"><a href="#�l�����" class="headerlink" title="�ļ�����"></a>�ļ�����</h1><ul><li>spring-mvc.xml��Ҫ�����ϴ�������</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--�����ļ��ϴ������� --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="���V�"><a href="#���V�" class="headerlink" title="���Ʋ�"></a>���Ʋ�</h1><ul><li><p>��controller�����½�һ�������ļ��ϴ������ص���</p><p>UpDownLoadController.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.mvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UpDownLoadController</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * �ļ��ϴ�</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> myfile</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">upload</span><span class="params">(<span class="meta">@RequestParam(&quot;myFile&quot;)</span> MultipartFile myfile)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�����ϴ�������&quot;</span>);</span><br><span class="line">        System.out.println(myfile);</span><br><span class="line">        <span class="comment">//����һ������ֵ</span></span><br><span class="line">        Map&lt;String,Object&gt; resultMap=<span class="keyword">new</span> HashMap&lt;String,Object&gt;() ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//������</span></span><br><span class="line">            InputStream is = myfile.getInputStream();</span><br><span class="line">            <span class="comment">//ָ��һ��������������ϴ����ļ�</span></span><br><span class="line">            String url=<span class="string">&quot;C:\\Users\\Administrator\\Desktop\\ziyuan\\&quot;</span> ;</span><br><span class="line">            <span class="comment">//����һ���ļ�����</span></span><br><span class="line">            File file=<span class="keyword">new</span> File(url+myfile.getOriginalFilename()) ;</span><br><span class="line">            <span class="comment">//�����</span></span><br><span class="line">            OutputStream os=<span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">            <span class="comment">//�߶���д�Ĺ���</span></span><br><span class="line">            <span class="comment">//����һ������ļ���Ϣ���ֽ�����</span></span><br><span class="line">            <span class="keyword">byte</span> []bytes=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="comment">//����һ������-�ж��Ƿ������ȡ����</span></span><br><span class="line">            <span class="keyword">int</span> len=<span class="number">0</span> ;</span><br><span class="line">            <span class="keyword">while</span>(  (len=is.read(bytes)) !=-<span class="number">1</span> )&#123;</span><br><span class="line">                os.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//�ر�������</span></span><br><span class="line">            os.close();</span><br><span class="line">            is.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            resultMap.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;�ϴ�ʧ��-�ļ�������&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        resultMap.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;�ϴ��ɹ�&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> resultMap ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ����</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/download&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">download</span><span class="params">(String filename, HttpServletResponse resp)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�������ؿ�����&quot;</span>);</span><br><span class="line"><span class="comment">//        double i = 10/0;</span></span><br><span class="line">        <span class="comment">//���巽������ֵ-�����</span></span><br><span class="line">        HashMap&lt;String, Object&gt; resultMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ָ���ṩ��Դ�Ĵ���Ŀ¼</span></span><br><span class="line">        String dir=<span class="string">&quot;C:\\Users\\Administrator\\Desktop\\ziyuan\\&quot;</span> ;</span><br><span class="line">        <span class="comment">//ƴ�Ӹ��ļ���ַ-�е����ļ��Ƿ����</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(dir + filename);</span><br><span class="line">        <span class="comment">//�ж��ļ��Ƿ����</span></span><br><span class="line">        <span class="keyword">if</span>(file.exists())&#123;</span><br><span class="line">            resultMap.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//�������--��ȡ�ļ�--��Ӧ�ļ�--�ر���</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//��������������-��ȡ�����ļ�</span></span><br><span class="line">                InputStream is = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">                <span class="comment">//��ȡһ���ļ����������--FileOutputStream</span></span><br><span class="line">                ServletOutputStream os = resp.getOutputStream();</span><br><span class="line">                <span class="comment">//ָ���ļ�������</span></span><br><span class="line">                resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;filename=&quot;</span>+filename);</span><br><span class="line">                <span class="comment">//ָ���ļ�������</span></span><br><span class="line"><span class="comment">//                resp.setHeader(&quot;Content-Type&quot;,&quot;application/mp4&quot;);</span></span><br><span class="line">                resp.setContentType(<span class="string">&quot;application/x-png&quot;</span>);</span><br><span class="line">                <span class="comment">//��ȡ����</span></span><br><span class="line">                <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">2048</span>] ;</span><br><span class="line">                <span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">                <span class="keyword">while</span>( (len=is.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    os.write(b,<span class="number">0</span>,len);</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//                resultMap.put(&quot;msg&quot;,&quot;�ļ����سɹ�&quot;);</span></span><br><span class="line">                <span class="comment">//�ر���</span></span><br><span class="line">                os.close();</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//���������-��Ӧ-���ļ�������</span></span><br><span class="line">            resultMap.put(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;�ļ�����ʧ��-�ļ�������&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> resultMap ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="j��ҳ��-jsp"><a href="#j��ҳ��-jsp" class="headerlink" title="ǰ��ҳ��(jsp)"></a>ǰ��ҳ��(jsp)</h1><ul><li>��test1.jsp������صı���������</li></ul><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;hr/&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=<span class="string">&quot;/upload&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;myFile&quot;</span>/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;�ύ&quot;</span>/&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr/&gt;</span><br><span class="line"></span><br><span class="line">&lt;a href=<span class="string">&quot;/download?filename=1.png&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;������Դ&lt;/a&gt;</span><br></pre></td></tr></table></figure><h1 id="��ز��Ժͽ��"><a href="#��ز��Ժͽ��" class="headerlink" title="��ز��Ժͽ��"></a>��ز��Ժͽ��</h1><ul><li>�������ַ������localhost:8081/jsp/test1.jsp</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220417193021.png" alt="image-20220417193021262"></p><ul><li><p>�Ͳ��Խӹ������ϴ��ļ�֧�ֶ������(.jpg/.png/.mp4��)</p></li><li><p>������Դ��Ҫע���ڿ��Ʋ�ָ����������Դ�����ƺ�����</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> �ϴ������� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring-mvc3</title>
      <link href="/2022/04/14/spring-mvc3/"/>
      <url>/2022/04/14/spring-mvc3/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-mvc֮json����"><a href="#Spring-mvc֮json����" class="headerlink" title="Spring-mvc֮json����"></a>Spring-mvc֮json����</h1><ul><li>�����ǰ����õ���json����</li><li>����˵�����һ���json��ʽ</li><li>������Ҫʹ�ù������ע��ʹ�ú�˷���ǰ��֮ǰ������ת��json��ʽ</li><li>��spring-mvc���������ʹ��ע����Ϊ����</li></ul><h1 id="L¼�u"><a href="#L¼�u" class="headerlink" title="Ŀ¼�ṹ"></a>Ŀ¼�ṹ</h1><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414190750.png" alt="image-20220414190750057"></p><h1 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h1><h2 id="����jar��"><a href="#����jar��" class="headerlink" title="����jar��"></a>����jar��</h2><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.kairong<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-mvc2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--spring-mvc��������Զ�����������ص�����jar��--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ������� --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- servlet --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- json --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--jackson-databind��������Զ�����������ص�����jar��--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- tomcat������� --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--�˿ڿ���--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">port</span>&gt;</span>8081<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--��Ŀ·��������ζ��http://localhost:8080/--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--���룬���get��������--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">uriEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">uriEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- maven������� --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="����spring���������l�"><a href="#����spring���������l�" class="headerlink" title="����spring���������ļ�"></a>����spring���������ļ�</h2><p>bean.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--IOC DI ע��ɨ����--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;cn.kairong.mvc.controller&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>spring-mvc.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--���� bean.xml--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;classpath:bean.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ֧��mvcע������ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--������ͼ������ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span>  <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;WEB-INF/views/&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="����web-xml"><a href="#����web-xml" class="headerlink" title="����web.xml"></a>����web.xml</h2><ul><li>��ǰ�Ĳ�ͬ����servlet���ع����Ϊ**/**�����Ҽ���һ�����������</li></ul><p>web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">web-app</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ��������������������ʽ��ΪUTF-8�������������� ,���post���������--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring MVC�Ŀ������װ��servlet����ע�� --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring MVC�������ļ� --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring-mvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ����ֵСһ��ȽϺ��ʣ������ȼ��أ���tomcat����ʱ�ͳ�ʼ��������ֹǰ������ִ��Ž��г�ʼ���Ӷ�������Ӧʱ������������Ϳͻ������� --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--���־�������˳��--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      ���ع���</span></span><br><span class="line"><span class="comment">      ����*.do��ֻ�к�׺Ϊ.do��������ܵ��������</span></span><br><span class="line"><span class="comment">      ����/�������ع���</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="ʵ����-entity"><a href="#ʵ����-entity" class="headerlink" title="ʵ����(entity)"></a>ʵ����(entity)</h1><p>Book.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.mvc.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAuthor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAuthor</span><span class="params">(String author)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Book&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, author=&#x27;&quot;</span> + author + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="���V�-controller"><a href="#���V�-controller" class="headerlink" title="���Ʋ�(controller)"></a>���Ʋ�(controller)</h1><p>JsonController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.mvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.mvc.entity.Book;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getJson&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getJson</span><span class="params">()</span></span>&#123;</span><br><span class="line">        HashMap&lt;String, Object&gt; resultMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        resultMap.put(<span class="string">&quot;code&quot;</span>,<span class="string">&quot;200&quot;</span>);</span><br><span class="line">        resultMap.put(<span class="string">&quot;message&quot;</span>,<span class="string">&quot;�ɹ�&quot;</span>);</span><br><span class="line">        Book book = <span class="keyword">new</span> Book();</span><br><span class="line">        book.setId(<span class="number">1</span>);</span><br><span class="line">        book.setName(<span class="string">&quot;���μ�&quot;</span>);</span><br><span class="line">        book.setAuthor(<span class="string">&quot;ckr&quot;</span>);</span><br><span class="line">        resultMap.put(<span class="string">&quot;data&quot;</span>,book);</span><br><span class="line">        <span class="keyword">return</span> resultMap;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//����ǰ�˵ĵ����ֶ����ݻ�����</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getreq.do&quot;)</span></span><br><span class="line">    <span class="comment">//@RequestParamָ��ǰ�˵������ֶ�����ֵ�ɺ��涨����ֶ�������</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getReq</span><span class="params">(<span class="meta">@RequestParam(&quot;studentusername&quot;)</span> String uname, <span class="meta">@RequestParam(&quot;studentuserpassword&quot;)</span> String password)</span></span>&#123;</span><br><span class="line">        System.out.println(uname+<span class="string">&quot;---&quot;</span>+password);</span><br><span class="line">        HashMap&lt;String, Object&gt; resultMap = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        resultMap.put(<span class="string">&quot;uname&quot;</span>,uname);</span><br><span class="line">        resultMap.put(<span class="string">&quot;password&quot;</span>,password);</span><br><span class="line">        <span class="keyword">return</span> resultMap ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//����ǰ�˵ĵ�������</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getreq2.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getReq2</span><span class="params">(String[] hobby)</span></span>&#123;</span><br><span class="line">        HashMap&lt;String, Object&gt; resultMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        System.out.println(Arrays.toString(hobby));</span><br><span class="line">        resultMap.put(<span class="string">&quot;data&quot;</span>, Arrays.toString(hobby));</span><br><span class="line">        <span class="keyword">return</span> resultMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//����ǰ�˵���������</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/reqget3.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getReq3</span><span class="params">(Book book)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        //ת��������ַ���-�ײ㷽��</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;���룺&quot;+book);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        String uname = book.getName();</span></span><br><span class="line"><span class="comment">//        String uauthor = book.getAuthor();</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        try &#123;</span></span><br><span class="line"><span class="comment">//            //����uname,��Ҫ֪��ǰ�˵ı��뼯����������tomcat�����õı��뼯����ǰ�˵ı��뼯</span></span><br><span class="line"><span class="comment">//            byte[] bytes = uname.getBytes(&quot;ISO-8859-1&quot;);//��Ҫ֪����ָ��ǰ�˵ı��뼯</span></span><br><span class="line"><span class="comment">////            byte[] bytes = uname.getBytes(&quot;GBK&quot;);</span></span><br><span class="line"><span class="comment">//            uname = new String(bytes, &quot;utf-8&quot;);//ת����ı��뼯</span></span><br><span class="line"><span class="comment">//            book.setName(uname);</span></span><br><span class="line"><span class="comment">//            //����uauthor</span></span><br><span class="line"><span class="comment">//            byte[] uauthorBytes = uauthor.getBytes(&quot;ISO-8859-1&quot;);</span></span><br><span class="line"><span class="comment">//            uauthor = new String(uauthorBytes, &quot;utf-8&quot;);//ת����ı��뼯</span></span><br><span class="line"><span class="comment">//            book.setAuthor(uauthor);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;ת��֮��&quot;+book);</span></span><br><span class="line"><span class="comment">//        &#125; catch (UnsupportedEncodingException e) &#123;</span></span><br><span class="line"><span class="comment">//            e.printStackTrace();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">        HashMap&lt;String, Object&gt; resultMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        resultMap.put(<span class="string">&quot;data&quot;</span>,book);</span><br><span class="line">        <span class="keyword">return</span> resultMap ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="j��ҳ��-jsp"><a href="#j��ҳ��-jsp" class="headerlink" title="ǰ��ҳ��(jsp)"></a>ǰ��ҳ��(jsp)</h1><p>test1.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> isELIgnored=<span class="string">&quot;false&quot;</span>%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;jsp����ҳ��&lt;/h1&gt;</span><br><span class="line">    </span><br><span class="line">&lt;form action=<span class="string">&quot;/getreq.do&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    ���ƣ�&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;studentusername&quot;</span>/&gt;&lt;br/&gt;</span><br><span class="line">    ���룺&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;studentuserpassword&quot;</span> /&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;�ύ&quot;</span>/&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr/&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=<span class="string">&quot;/getreq2.do&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    ��Ӿ &lt;input type=<span class="string">&quot;checkbox&quot;</span> value=<span class="string">&quot;��Ӿ&quot;</span> name=<span class="string">&quot;hobby&quot;</span> /&gt;</span><br><span class="line">    ���� &lt;input type=<span class="string">&quot;checkbox&quot;</span> value=<span class="string">&quot;����&quot;</span> name=<span class="string">&quot;hobby&quot;</span>/&gt;</span><br><span class="line">    �ܲ� &lt;input type=<span class="string">&quot;checkbox&quot;</span> value=<span class="string">&quot;�ܲ�&quot;</span> name=<span class="string">&quot;hobby&quot;</span>/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;�ύ&quot;</span>/&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">    </span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">    </span><br><span class="line">&lt;form action=<span class="string">&quot;/reqget3.do&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    �û�id &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span>/&gt;</span><br><span class="line">    ͼ������&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span>/&gt;</span><br><span class="line">    ͼ������&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;author&quot;</span>/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;�ύ&quot;</span>/&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h1 id="��ز����Լ����"><a href="#��ز����Լ����" class="headerlink" title="��ز����Լ����"></a>��ز����Լ����</h1><h2 id="����һ������Json��"><a href="#����һ������Json��" class="headerlink" title="����һ������Json��"></a>����һ������Json��</h2><ul><li><p>ǰ�˲�Я���������˷�������</p></li><li><p>����JsonController.java��getJson����</p></li><li><p>����@ResponseBodyע��ʹ�ø÷������ص�����ת��json��ʽ</p></li></ul><h3 id="���Է���"><a href="#���Է���" class="headerlink" title="���Է���"></a>���Է���</h3><ul><li>���������ַ������localhost:8081/getJson</li></ul><h3 id="���"><a href="#���" class="headerlink" title="���"></a>���</h3><ul><li>�ɹ�����һ��Json���ݷ��Ͽ������ķ���Ҫ��</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414210725.png" alt="image-20220414210725545"></p><h2 id="���Զ����������ݣ�"><a href="#���Զ����������ݣ�" class="headerlink" title="���Զ����������ݣ�"></a>���Զ����������ݣ�</h2><ul><li><p>ǰ������ʽΪget</p></li><li><p>ǰ��Я���������˷�������</p></li><li><p>����JsonController.java��getReq����</p></li><li><p>����@RequestParamע�����ǰ��Я��������</p></li></ul><h3 id="���Է���-1"><a href="#���Է���-1" class="headerlink" title="���Է���"></a>���Է���</h3><ul><li>�����������ַ������localhost:8081/jsp/test1.jsp</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414212625.png" alt="image-20220414212625830"></p><h3 id="���-1"><a href="#���-1" class="headerlink" title="���"></a>���</h3><ul><li>������Ҫ�ύ������</li><li>������Я��������</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414213028.png" alt="image-20220414213028048"></p><ul><li>��ת���½���</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414213058.png" alt="image-20220414213058306"></p><h2 id="�����������ݼ��ϣ�"><a href="#�����������ݼ��ϣ�" class="headerlink" title="�����������ݼ��ϣ�"></a>�����������ݼ��ϣ�</h2><ul><li><p>ǰ������ʽΪget</p></li><li><p>ǰ��Я�����ݼ������˷�������</p></li><li><p>����JsonController.java��getReq2����</p></li><li><p>����String[]���ͽ���ǰ��Я�������ݼ���</p></li></ul><h3 id="���Է���-2"><a href="#���Է���-2" class="headerlink" title="���Է���"></a>���Է���</h3><ul><li>���������ַ������localhost:8081/jsp/test1.jsp</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414213329.png" alt="image-20220414213329036"></p><h3 id="���-2"><a href="#���-2" class="headerlink" title="���"></a>���</h3><ul><li>��ѡ��Ҫ�ύ������</li><li>������Я��������</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414213553.png" alt="image-20220414213553427"></p><ul><li>��ת���½���</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414213620.png" alt="image-20220414213620837"></p><h2 id="�����g��������ݣ�"><a href="#�����g��������ݣ�" class="headerlink" title="�����ģ��������ݣ�"></a>�����ģ��������ݣ�</h2><ul><li><p>ǰ������ʽΪpost</p></li><li><p>ǰ��Я�������������˷�������</p></li><li><p>����JsonController.java��getReq3����</p></li><li><p>����Book(ʵ����)���ͽ���ǰ��Я�������ݼ���</p></li></ul><h3 id="���Է���-3"><a href="#���Է���-3" class="headerlink" title="���Է���"></a>���Է���</h3><ul><li>���������ַ������localhost:8081/jsp/test1.jsp</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414214007.png" alt="image-20220414214007119"></p><h3 id="���-3"><a href="#���-3" class="headerlink" title="���"></a>���</h3><ul><li>������Ҫ�ύ������</li><li>������Я��������</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414214503.png" alt="image-20220414214503218"></p><ul><li>��ת���½���</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220414214524.png" alt="image-20220414214524565"></p><h1 id="j�����󷽷�-get-post"><a href="#j�����󷽷�-get-post" class="headerlink" title="ǰ�����󷽷�(get,post)"></a>ǰ�����󷽷�(get,post)</h1><ul><li>����������ǰ��ҳ����ǰ����from������ʹ��get���󷽷�</li><li>���һ������ʹ��post������ô���ߵ�ʹ�ó�������ʲô��</li></ul><h2 id="dz̸����"><a href="#dz̸����" class="headerlink" title="ǳ̸����"></a>ǳ̸����</h2><ul><li><p>��ֱ�۵��������GET�Ѳ���������<strong>����ͷ</strong>�У�POSTͨ��<strong>������</strong>���ݲ�����</p></li><li><p>GET�����������ʱ���޺��ģ���POST���ٴ��ύ���� </p></li><li><p>GET������URL��ַ���Ա�Bookmark����POST�����ԡ�</p></li><li><p>GET����ᱻ���������cache����POST���ᣬ�����ֶ����á�</p></li><li><p>GET����ֻ�ܽ���url���룬��POST֧�ֶ��ֱ��뷽ʽ��</p></li><li><p>GET��������ᱻ�����������������ʷ��¼���POST�еĲ������ᱻ������</p></li><li><p>GET������URL�д��͵Ĳ������г������Ƶģ���POSTô�С�</p></li><li><p>�Բ������������ͣ�GETֻ����ASCII�ַ�����POSTû�����ơ�</p></li><li><p>GET��POST������ȫ����Ϊ����ֱ�ӱ�¶��URL�ϣ����Բ�����������������Ϣ��</p></li><li><p>GET����ͨ��URL���ݣ�POST����Request body�С�</p></li></ul><h2 id="ʹ�o���"><a href="#ʹ�o���" class="headerlink" title="ʹ�ó���"></a>ʹ�ó���</h2><table><thead><tr><th align="center">������ʽ</th><th align="center">����λ��</th><th align="center">��������</th><th align="center">���ݰ�ȫ</th><th align="center">��������</th><th align="center">Ӧ�ó���</th></tr></thead><tbody><tr><td align="center">GET</td><td align="center">HTTP��ͷ</td><td align="center">����</td><td align="center">����ȫ</td><td align="center">���Ƚ�С</td><td align="center">��ѯ����</td></tr><tr><td align="center">POST</td><td align="center">HTTP����</td><td align="center">��������</td><td align="center">��ȫ</td><td align="center">֧�ֽϴ����ݴ���</td><td align="center">�޸�����</td></tr></tbody></table><h1 id="��������"><a href="#��������" class="headerlink" title="��������"></a>��������</h1><h2 id="Get"><a href="#Get" class="headerlink" title="Get"></a>Get</h2><ul><li>��pom.xml�ļ���tomcat���ü���</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uriEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">uriEncoding</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Post"><a href="#Post" class="headerlink" title="Post"></a>Post</h2><ul><li>��web.xml�������������</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ��������������������ʽ��ΪUTF-8�������������� ,���post���������--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="�ײ���"><a href="#�ײ���" class="headerlink" title="�ײ���"></a>�ײ���</h2><ul><li>get��post������</li><li>ԭ������ҵ����Ͻ���˽��ܵ����ݽ����ַ����뼯��ת��</li><li>ʹ�÷�����JsonController.java�е�getReq3����</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ת��������ַ���-�ײ㷽��</span></span><br><span class="line">        System.out.println(<span class="string">&quot;���룺&quot;</span>+book);</span><br><span class="line"></span><br><span class="line">        String uname = book.getName();</span><br><span class="line">        String uauthor = book.getAuthor();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//����uname,��Ҫ֪��ǰ�˵ı��뼯����������tomcat�����õı��뼯����ǰ�˵ı��뼯</span></span><br><span class="line"><span class="comment">//            byte[] bytes = uname.getBytes(&quot;ISO-8859-1&quot;);//��Ҫ֪����ָ��ǰ�˵ı��뼯</span></span><br><span class="line">            <span class="keyword">byte</span>[] bytes = uname.getBytes(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">            uname = <span class="keyword">new</span> String(bytes, <span class="string">&quot;utf-8&quot;</span>);<span class="comment">//ת����ı��뼯</span></span><br><span class="line">            book.setName(uname);</span><br><span class="line">            <span class="comment">//����uauthor</span></span><br><span class="line">            <span class="keyword">byte</span>[] uauthorBytes = uauthor.getBytes(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">            uauthor = <span class="keyword">new</span> String(uauthorBytes, <span class="string">&quot;utf-8&quot;</span>);<span class="comment">//ת����ı��뼯</span></span><br><span class="line">            book.setAuthor(uauthor);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;ת��֮��&quot;</span>+book);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mvc-json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring-mvc2</title>
      <link href="/2022/04/12/spring-mvc2/"/>
      <url>/2022/04/12/spring-mvc2/</url>
      
        <content type="html"><![CDATA[<h1 id="ת�����ض���"><a href="#ת�����ض���" class="headerlink" title="ת�����ض���"></a>ת�����ض���</h1><h2 id="��������"><a href="#��������" class="headerlink" title="��������"></a>��������</h2><ul><li><p>�ӵ�ַ����ʾ��˵</p><ul><li>forward�Ƿ�����������Դ,������ֱ�ӷ���Ŀ���ַ��URL,���Ǹ�URL����Ӧ���ݶ�ȡ����,Ȼ�����Щ�����ٷ��������.�����������֪�����������͵����ݴ���������,�������ĵ�ַ������ԭ���ĵ�ַ.</li><li>redirect�Ƿ���˸����߼�,����һ��״̬��,�������������ȥ�����Ǹ���ַ.���Ե�ַ����ʾ�����µ�URL.</li></ul></li><li><p>�����ݹ�����˵</p><ul><li>forward:ת��ҳ���ת������ҳ����Թ���request���������.</li><li>redirect:���ܹ�������.</li></ul></li><li><p>�����õط���˵</p><ul><li>forward:һ�������û���½��ʱ��,���ݽ�ɫת������Ӧ��ģ��.</li><li>redirect:һ�������û�ע����½ʱ������ҳ�����ת����������վ��</li></ul></li><li><p>��Ч����˵</p><ul><li>forward:��.</li><li>redirect:��.</li></ul></li></ul><h2 id="��������-1"><a href="#��������-1" class="headerlink" title="��������"></a>��������</h2><h3 id="����һ"><a href="#����һ" class="headerlink" title="����һ"></a>����һ</h3><ul><li><p>һ�仰��ת���Ƿ�������Ϊ���ض����ǿͻ�����Ϊ��</p></li><li><p>ת�����̣��ͻ����������http����—-��web���������ܴ�����C�������ڲ���һ�������������ڲ������������ת������—-����Ŀ����Դ���͸��ͻ�;�����ת����·��������ͬһ��web�����µ�url���䲻��ת��������web·����ȥ���м䴫�ݵ����Լ��������ڵ�request���ڿͻ������·������ʾ����Ȼ�����һ�η��ʵ�·����Ҳ����˵�ͻ��Ǹо���������������ת���ġ�ת����Ϊ�������ֻ����һ�η�������</p></li><li><p>�ض�����̣��ͻ����������http����—-��web���������ܺ���302״̬����Ӧ����Ӧ�µ�location���ͻ�������C���ͻ������������302��Ӧ�����Զ��ٷ���һ���µ�http��������url���µ�location��ַ—-�����������ݴ�����Ѱ����Դ�����͸��ͻ��������� location�����ض�������URL����Ȼ����������·������������û��ʲôrequest���ݵĸ����ˡ��ڿͻ������·������ʾ�������ض����·�����ͻ����Թ۲쵽��ַ�ı仯�ġ��ض�����Ϊ������������������εķ�������ġ�</p></li></ul><h3 id="���Ͷ�"><a href="#���Ͷ�" class="headerlink" title="���Ͷ�"></a>���Ͷ�</h3><ul><li><p>�ض�����ʵ������request,��һ�Σ��ͻ���request A,��������Ӧ����response�������������������Ӧ��ȥB�����ʱ��IE����</p><p>����ַ���ˣ�������ʷ�Ļ��˰�ťҲ���ˡ��ض�����Է����Լ�webӦ���������Դ�����ض���Ĺ����У��������Ϣ�ᱻ��ʧ��</p></li><li><p>���ӣ�����ת���Ƿ������ڲ��Ѷ�һ��request/response�Ĵ���Ȩ���ƽ�������һ���˿ڣ����ڿͻ��˶��ԣ���ֻ֪���Լ�����������Ǹ�A������֪���м��B������C��D�� �������Ϣ���ᶪʧ��</p></li></ul><h3 id="������"><a href="#������" class="headerlink" title="������"></a>������</h3><ul><li>ת���Ƿ�������Ϊ���ض����ǿͻ�����Ϊ��</li></ul><h2 id="�ڲ���������"><a href="#�ڲ���������" class="headerlink" title="�ڲ���������"></a>�ڲ���������</h2><ul><li><p> ����ת��ֻ�ܽ�����ת����ͬһ��WEBӦ���е���������ض��򻹿������¶���ͬһվ�㲻ͬӦ�ó����е���Դ���������Զ���һ���Ե�URL��</p></li><li><p>�ض�����Կ���Ŀ��ҳ���URL��ת��ֻ�ܿ�����һ�η��ʵ�ҳ��URL���Ժ�Ĺ��������з����������ġ�</p></li><li><p>������Ӧ�����ߺͱ�������֮�乲����ͬ��request�����response�����ض�������ߺͱ������������������������������Ӧ���̡�</p></li><li><p>�ض�����ת��������return��Ҫ��Ȼҳ����Ȼ��ת�ˣ����ǻ���ִ����ת�������䣬ת����ִ������תҳ�棬����Ĵ���Ͳ�����ִ���ˡ�</p></li></ul><h2 id="ʵ��Ӧ��"><a href="#ʵ��Ӧ��" class="headerlink" title="ʵ��Ӧ��"></a>ʵ��Ӧ��</h2><ul><li>����������һƪ����<a href="https://kairong6.gitee.io/2022/04/12/spring-mvc1/">spring-mvc1</a></li></ul><h3 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h3><ul><li>��webappĿ¼�¹�����ͼĿ¼�ṹ�Լ�jsp�ļ�</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220413013227.png" alt="image-20220413013227195"></p><ul><li>test1.jsp</li></ul><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> isELIgnored=<span class="string">&quot;false&quot;</span>%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;tes1.jsp&lt;/h1&gt;</span><br><span class="line">$&#123;key1&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><ul><li>test2.jsp</li></ul><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> isELIgnored=<span class="string">&quot;false&quot;</span>%&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;one.jps&lt;/h1&gt;</span><br><span class="line">$&#123;key1&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="����༭"><a href="#����༭" class="headerlink" title="����༭"></a>����༭</h3><ul><li><p>��FirstController.java�м������б༭</p><p>FirstController.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstController</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ת��</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/one.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">get1</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�����������FirstController&quot;</span>);</span><br><span class="line">        <span class="comment">//springmvcʵ�ִ�ͳ��ʽ��ת��</span></span><br><span class="line">        request.setAttribute(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;��ͳ��ʽЯ��������&quot;</span>);</span><br><span class="line">        request.getRequestDispatcher(<span class="string">&quot;forward:jsp/test1.jsp&quot;</span>).forward(request,response);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/two.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">get3</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�����������TwoController&quot;</span>);</span><br><span class="line">        <span class="comment">//springmvc���еķ�ʽʵ��ת��</span></span><br><span class="line">        ModelAndView mav=<span class="keyword">new</span> ModelAndView() ;</span><br><span class="line">        mav.setViewName(<span class="string">&quot;forward:jsp/test1.jsp&quot;</span>);</span><br><span class="line"><span class="comment">//        mav.setViewName(&quot;test2&quot;);</span></span><br><span class="line">        mav.addObject(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;springmvc���еķ�ʽЯ��������&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mav;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * �ض���</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/three.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">get4</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�����������ThreeController&quot;</span>);</span><br><span class="line">        <span class="comment">//��ͳ��ʽ���ض���</span></span><br><span class="line">        request.setAttribute(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;�ض���ͳ��ʽЯ��������&quot;</span>);</span><br><span class="line">        request.getSession().setAttribute(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;�ض���ͳ��ʽЯ�������ݴ����session��������&quot;</span>);</span><br><span class="line"><span class="comment">//        response.sendRedirect(&quot;https://www.baidu.com/&quot;);</span></span><br><span class="line">        response.sendRedirect(<span class="string">&quot;jsp/test1.jsp&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/four.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">get</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�����������FourController&quot;</span>);</span><br><span class="line">        <span class="comment">//springmvcʹ�������ض���ʽЯ��������ת</span></span><br><span class="line">        ModelAndView mav= <span class="keyword">new</span> ModelAndView() ;</span><br><span class="line">        mav.addObject(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;springmvc���е��ض���ʽЯ��������&quot;</span>);</span><br><span class="line">        request.getSession().setAttribute(<span class="string">&quot;key1&quot;</span>,<span class="string">&quot;springmvc���е��ض���ʽЯ�������ݷ���session��������&quot;</span>);</span><br><span class="line">        mav.setViewName(<span class="string">&quot;redirect:jsp/test1.jsp&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mav;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>��ز����Լ����</p><ul><li><p>�ֱ����������ַ���������µ�ַ</p><ul><li>localhost:8081/one.do</li><li>localhost:8081/two.do</li><li>localhost:8081/three.do</li><li>localhost:8081/four.do</li></ul></li><li><p>�����ҳ�����ת��test1.jsp���ɹ�����˷��͵�������ʾ��ǰ��</p></li></ul><h3 id="��ַ·���Z�"><a href="#��ַ·���Z�" class="headerlink" title="��ַ·���Ż�"></a>��ַ·���Ż�</h3><ul><li><p>���ǵ����jsp��Դ·����������ô��Գ���Ա���Ѻ�</p></li><li><p>���ǿ�����spring���������ļ�spring-mvc����jsp��ͼ������</p></li><li><p>��Ҫע����Ǹý�����ֻ��ʹ��spring-mvc���е�ת��</p></li><li><p>����Ŀ��·�����ܴ���<strong>forward:</strong></p><p>spring-mvc.xml</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--���� bean.xml--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;classpath:bean.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--������ͼ������ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span>  <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;WEB-INF/views/&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="��������-2"><a href="#��������-2" class="headerlink" title="��������"></a>��������</h4><ul><li>��FristController.java��<strong>get2</strong>�����н����µ�һ�д����滻�ɵڶ���</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mav.setViewName(&quot;forward:jsp/test1.jsp&quot;); </span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mav.setViewName(<span class="string">&quot;test2&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>�ֱ����������ַ������localhost:8081/two.do</li><li>�����ҳ�����ת��test1.jsp���ɹ�����˷��͵�������ʾ��ǰ��</li></ul>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mvc ת�����ض��� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring-mvc1</title>
      <link href="/2022/04/12/spring-mvc1/"/>
      <url>/2022/04/12/spring-mvc1/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-mvc"><a href="#Spring-mvc" class="headerlink" title="Spring-mvc"></a>Spring-mvc</h1><ul><li>��һ��spring�ṩ��ǰ��˶ԽӵĿ��</li><li>������spring��ܵ�ҵ������</li></ul><h2 id="ִ������"><a href="#ִ������" class="headerlink" title="ִ������"></a>ִ������</h2><ol><li>�û����ĳ������·��������һ�� HTTP request ���󣬸�����ᱻ�ύ�� DispatcherServlet��ǰ�˿�������,</li><li>�� DispatcherServlet ����һ������ HandlerMapping��������ӳ��������������һ��ִ������HandlerExecutionChain��</li><li>DispatcherServlet ��ִ�������ص� Handler ��Ϣ���͸� HandlerAdapter����������������</li><li>HandlerAdapter ���� Handler ��Ϣ�ҵ���ִ����Ӧ�� Handler������Ϊ Controller��</li><li>Handler ִ����Ϻ�᷵�ظ� HandlerAdapter һ�� ModelAndView ����Spring MVC�ĵײ���󣬰��� Model ����ģ�ͺ� View ��ͼ��Ϣ��</li><li>HandlerAdapter ���յ� ModelAndView ����󣬽��䷵�ظ� DispatcherServlet </li><li>DispatcherServlet ���յ� ModelAndView ����󣬻����� ViewResolver����ͼ������������ͼ���н���</li><li>ViewResolver ���� View ��Ϣƥ�䵽��Ӧ����ͼ����������ظ� DispatcherServlet</li><li>DispatcherServlet ���յ������ View ��ͼ�󣬽�����ͼ��Ⱦ���� Model �е�ģ��������䵽 View ��ͼ�е� request ���������յ� View����ͼ��</li></ol><p>��ͼ���𽫽����ʾ����������ͻ��ˣ�</p><h2 id="ִ������ͼ"><a href="#ִ������ͼ" class="headerlink" title="ִ������ͼ"></a>ִ������ͼ</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412214512.png" alt="Spring MVCִ������"></p><h2 id="Spring-MVC�ӿ�"><a href="#Spring-MVC�ӿ�" class="headerlink" title="Spring MVC�ӿ�"></a>Spring MVC�ӿ�</h2><ul><li>Spring MVC �漰��������� DispatcherServlet��ǰ�˿���������HandlerMapping��������ӳ��������HandlerAdapter������������������Handler������������ViewResolver����ͼ���������� View����ͼ��������Ը�������Ĺ���˵�����¡�</li></ul><h4 id="1��DispatcherServlet"><a href="#1��DispatcherServlet" class="headerlink" title="1��DispatcherServlet"></a>1��DispatcherServlet</h4><ul><li>DispatcherServlet ��ǰ�˿���������ͼ 1 ���Կ�����Spring MVC ����������Ҫ���� DispatcherServlet ��ͳһ�ַ���DispatcherServlet �൱��һ��ת���������봦�����������������̵�ִ�У��Ը����������ͳһ���ȣ��Խ������֮�������ԣ����������֮�����չ��</li></ul><h4 id="2��HandlerMapping"><a href="#2��HandlerMapping" class="headerlink" title="2��HandlerMapping"></a>2��HandlerMapping</h4><ul><li>HandlerMapping �Ǵ�����ӳ�������������Ǹ�������� URL ·����ͨ��ע����� XML ���ã�Ѱ��ƥ��Ĵ�������Handler����Ϣ��</li></ul><h4 id="3��HandlerAdapter"><a href="#3��HandlerAdapter" class="headerlink" title="3��HandlerAdapter"></a>3��HandlerAdapter</h4><ul><li>HandlerAdapter �Ǵ��������������������Ǹ���ӳ�����ҵ��Ĵ�������Handler����Ϣ�������ض�����ִ����صĴ�������Handler����</li></ul><h4 id="4��Handler"><a href="#4��Handler" class="headerlink" title="4��Handler"></a>4��Handler</h4><ul><li>Handler �Ǵ��������� Java Servlet ���ݵĽ�ɫһ�¡���������ִ����ص��������߼�����������Ӧ�����ݺ���ͼ��Ϣ�������װ�� ModelAndView �����С�</li></ul><h4 id="5��View-Resolver"><a href="#5��View-Resolver" class="headerlink" title="5��View Resolver"></a>5��View Resolver</h4><ul><li>View Resolver ����ͼ���������������ǽ��н���������ͨ�� ModelAndView �����е� View ��Ϣ���߼���ͼ����������������ͼ View����ͨ��һ�� JSP ·������һ�������� JSP ҳ�棩��</li></ul><h4 id="6��View"><a href="#6��View" class="headerlink" title="6��View"></a>6��View</h4><ul><li>View ����ͼ���䱾����һ���ӿڣ�ʵ����֧�ֲ�ͬ�� View ���ͣ�JSP��FreeMarker��Excel �ȣ���</li></ul><h2 id="����������ʹ��"><a href="#����������ʹ��" class="headerlink" title="����������ʹ��"></a>����������ʹ��</h2><h3 id="��L����"><a href="#��L����" class="headerlink" title="��Ŀ����"></a>��Ŀ����</h3><ul><li>ʹ��idea����maven-web��Ŀ</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412220331.png" alt="image-20220412220331325"></p><ul><li>��Ŀ��������Ҫ�������ϵͳ��Ŀ¼����srcĿ¼�£�</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412224403.png" alt="image-20220412224402910"></p><ul><li>�贴����ͼ��ʾ��Ŀ¼������һ�����ᵯ����ͼ��ʾ�Ĵ�����Ŀ¼��</li><li>�ֱ�����ͼ��Ȧ�е�Ŀ¼</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412224635.png" alt="image-20220412224635307"></p><h3 id="L¼�u"><a href="#L¼�u" class="headerlink" title="Ŀ¼�ṹ"></a>Ŀ¼�ṹ</h3><p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220412221656265.png" alt="image-20220412221656265"></p><h3 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h3><h4 id="�������jar���Լ����"><a href="#�������jar���Լ����" class="headerlink" title="�������jar���Լ����"></a>�������jar���Լ����</h4><p>pom.xml��ע����Ҫˢ�£�</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.kairong<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-mvc1<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ������� --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- servlet --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- tomcat������� --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--�˿ڿ���--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">port</span>&gt;</span>8081<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--��Ŀ·��������ζ��http://localhost:8080/--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--����--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">uriEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">uriEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- maven������� --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="����bean-xml�l�"><a href="#����bean-xml�l�" class="headerlink" title="����bean.xml�ļ�"></a>����bean.xml�ļ�</h4><ul><li><p>����������Ҫ���ڹ�����˷����spring����</p><p>bean.xml</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Ϊ����������id--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;/test1.do&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.kairong.springmvc.handler.FirstHandler&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        IOC DI ע��ɨ����</span></span><br><span class="line"><span class="comment">        ����ذ���ʹ�����ע����Ч</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;cn.kairong.springmvc.*&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="����spring-mvc-xml�l�"><a href="#����spring-mvc-xml�l�" class="headerlink" title="����spring-mvc.xml�ļ�"></a>����spring-mvc.xml�ļ�</h4><ul><li><p>����������Ҫ��ǰ�����ص���ϵ</p></li><li><p>��������spring���������ļ���Ŀ���ǽ������������ݷֿ�����</p></li><li><p>���spring-mvc.xml���û�����bean.xml</p><p>spring-mvc.xml</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--���� bean.xml--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;classpath:bean.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>����web.xml</p><ul><li><p>ע��dispatcherServlet��dispatcherServlet��springmvc�������װservlet����</p><p>web.xml</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">web-app</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta"> <span class="meta-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class="line"><span class="meta"> <span class="meta-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring MVC�������ļ� --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- �����spring-mvc.xml��Ӧ֮ǰ������spring���������ļ� --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:spring�ڡ�-mvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ����ֵСһ��ȽϺ��ʣ������ȼ��أ���tomcat����ʱ�ͳ�ʼ��������ֹǰ������ִ��Ž��г�ʼ���Ӷ�������Ӧʱ������������Ϳͻ������� --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--���־�������˳��--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      ���ع���</span></span><br><span class="line"><span class="comment">      ֻ�к�׺Ϊ.do��������ܵ��������</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="����������"><a href="#����������" class="headerlink" title="����������"></a>����������</h3><ul><li><p>������ص�ǰ�˿�����</p><p>FistHandler.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.springmvc.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.mvc.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstHandler</span> <span class="keyword">implements</span> <span class="title">Controller</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;���봦������FirstHandler&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="��ز����Լ����"><a href="#��ز����Լ����" class="headerlink" title="��ز����Լ����"></a>��ز����Լ����</h3><h4 id="����Tomcat������"><a href="#����Tomcat������" class="headerlink" title="����Tomcat������"></a>����Tomcat������</h4><ul><li>������Ͻ���������</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412225716.png" alt="image-20220412225716178"></p><ul><li>������ϼ��Ӻ��ٵ��maven</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412225930.png" alt="image-20220412225930381"></p><ul><li>��������д��tomcat7:run��Ȼ����Ӧ��</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412230056.png" alt="image-20220412230056498"></p><h4 id="��������ϲ���"><a href="#��������ϲ���" class="headerlink" title="��������ϲ���"></a>��������ϲ���</h4><ul><li>��������ĵ�ַ������localhost:8081/test1.do</li><li>ע���ַ����˿ں�8081������pom.xml�ļ��и�tomcat���õ������˿�</li></ul><h4 id="������"><a href="#������" class="headerlink" title="������"></a>������</h4><ul><li><p>�ͻ��ˣ�ǰ�ˣ�����ת���հ�ҳ��</p></li><li><p>����ˣ���ˣ�������̨��ӡ����</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412231121.png" alt="image-20220412231121752"></p><h3 id="ʹ��ע�ⷽʽ"><a href="#ʹ��ע�ⷽʽ" class="headerlink" title="ʹ��ע�ⷽʽ"></a>ʹ��ע�ⷽʽ</h3><h4 id="����������-1"><a href="#����������-1" class="headerlink" title="����������"></a>����������</h4><ul><li><p>ʹ��ע�ⷽʽʵ�ֿ�����(@Controller,@RequestMapping)</p></li><li><p>@Controller���������ඨ��Ϊǰ�˿�����������spring��������</p></li><li><p>@RequestMapping����ָ��ǰ�������˸÷���������·��������ӳ���ϵ</p></li><li><p>ע����Ҫ��spring���������ļ�������ע��ɨ��������bean.xml��</p><p>FristController.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.springmvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/one.do&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">get</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�����������FirstController&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="��ز����Լ����-1"><a href="#��ز����Լ����-1" class="headerlink" title="��ز����Լ����"></a>��ز����Լ����</h4><ul><li>���������ַ������localhost:8081/one.do</li><li>ǰ����ת���հ�ҳ��</li><li>��˿���̨�������ͼ</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220412232519.png" alt="image-20220412232519233"></p>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mvc���� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring-aop</title>
      <link href="/2022/04/07/spring-aop/"/>
      <url>/2022/04/07/spring-aop/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Aop��Ӧ��"><a href="#Spring-Aop��Ӧ��" class="headerlink" title="Spring-Aop��Ӧ��"></a>Spring-Aop��Ӧ��</h1><ul><li>����������</li><li>����ģʽ��������</li><li>��ҵ�����������ǿ��Ϊ���</li><li>����spring�ĺ����ļ�������orע����ʵ��aop����</li><li>��<a href="https://kairong6.gitee.io/2022/04/05/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/">������� </a>���ƺ�Ĵ���Ϊʾ��</li><li>��ҵ���Ľӿ�ʵ����StudentServiceImpl.javaΪ������ǿ�Ķ���</li></ul><h2 id="����������o��"><a href="#����������o��" class="headerlink" title="����������ǿ��"></a>����������ǿ��</h2><ul><li>�����������Ǽ�¼��ҵ�����������ķѵ�ʱ��</li><li>��util�㴴����������������Ҳ����������ǿ��</li><li>TimeUtil.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimeUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long startTime;</span><br><span class="line">    <span class="comment">//�����е㣬��Ҫ����һ���޷�������</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* cn.kairong.spring.service.impl.StudentServiceImpl.* (..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cut</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">//ҵ��ִ��ǰ</span></span><br><span class="line">    <span class="meta">@Before(&quot;cut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getStartTime</span><span class="params">()</span></span>&#123;</span><br><span class="line">        startTime = System.currentTimeMillis();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ҵ������ִ�к�</span></span><br><span class="line">    <span class="meta">@AfterReturning(&quot;cut()&quot;)</span></span><br><span class="line">    <span class="comment">//ҵ�����쳣ʱ</span></span><br><span class="line">    <span class="meta">@AfterThrowing(&quot;cut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">endTime</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Long endTime = System.currentTimeMillis();</span><br><span class="line">        System.out.println(endTime-startTime +<span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Aop-���÷�ʽ"><a href="#Aop-���÷�ʽ" class="headerlink" title="Aop-���÷�ʽ"></a>Aop-���÷�ʽ</h2><ul><li>���ͨ��Aop�ķ�ʽ��ҵ��������������ǿ</li><li>����֮һ����spring���������ļ�beans.xml����������</li></ul><h3 id="�����ӵJ����"><a href="#�����ӵJ����" class="headerlink" title="�����ӵĴ����"></a>�����ӵĴ����</h3><ul><li>aop��������</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--��������������ǿ��--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;timeUtil&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--����һ���е㣬������������ǿ��ҵ�����--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;cut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* cn.kairong.spring.service.impl.StudentServiceImpl.* (..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--befor��ʾ��ҵ����ִ��֮ǰ��method��ִ�еķ���--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;getStartTime&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;cut&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--after-returning��ʾҵ���������������ִ��--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;endTime&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;cut&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--after-throwing��ʾҵ�����׳��쳣ʱִ��--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;endTime&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;cut&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="��ز������Լ����"><a href="#��ز������Լ����" class="headerlink" title="��ز������Լ����"></a>��ز������Լ����</h3><ul><li>����������ԭ����spring���Կ���Լ����Դ����</li><li>������ݱ�����</li><li>ִ�в��Բ��������ݱ����ݾ��ɹ�����</li><li>����̨��������ͼ���ɹ���ӡ����ʱ�䣩</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220407222648.png" alt="image-20220407222648020"></p><h2 id="Aop-ע�ⷽʽ"><a href="#Aop-ע�ⷽʽ" class="headerlink" title="Aop-ע�ⷽʽ"></a>Aop-ע�ⷽʽ</h2><ul><li>����beans.xml��aop���÷�ʽ�Եò��Ѻã��鷳��</li><li>�������Ӧ�ÿ���ʹ��ע��ķ�ʽ</li><li>ʹ��Aop��ص�ע����Ҫ��beans,xml����aop��ע��ɨ����</li></ul><h3 id="��Ҫ���ӵJ����"><a href="#��Ҫ���ӵJ����" class="headerlink" title="��Ҫ���ӵĴ����"></a>��Ҫ���ӵĴ����</h3><ul><li>aopע��ɨ����</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--aopע����Ч--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>��������ǿ���������ӵ�ע��</li><li>ע�⺬�������TimeUtil.java�е�ע��</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Pointcut(&quot;execution(* cn.kairong.spring.service.impl.StudentServiceImpl.* (..))&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cut</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Before(&quot;cut()&quot;)</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AfterReturning(&quot;cut()&quot;)</span></span><br><span class="line"><span class="meta">@AfterThrowing(&quot;cut()&quot;)</span></span><br></pre></td></tr></table></figure><h3 id="��ز����Լ����"><a href="#��ز����Լ����" class="headerlink" title="��ز����Լ����"></a>��ز����Լ����</h3><ul><li>����������ԭ����spring���Կ���Լ����Դ����</li><li>ע�ͻ�ɾ����aop������</li><li>������ݱ�����</li><li>ִ�в��Բ��������ݱ����ݾ��ɹ�����</li><li>����̨��������ͼ���ɹ���ӡ����ʱ�䣩</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220407225429.png" alt="image-20220407225429388"></p>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Aop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>����ģʽ</title>
      <link href="/2022/04/05/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"/>
      <url>/2022/04/05/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="����gʽ��Ӧ��"><a href="#����gʽ��Ӧ��" class="headerlink" title="����ģʽ��Ӧ��"></a>����ģʽ��Ӧ��</h1><ul><li><p>������һ�µ�<strong>�������</strong>��ҵ�����д���ģʽ��Ӧ��</p></li><li><p>���齫��һ�¡�<a href="https://kairong6.gitee.io/2022/04/05/%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD/">�������</a>���Ĵ��뿽��ʹ�ã����ò��Զ��İ���</p></li><li><p>����ҵ��ʵ�����й����Լ���������רһ��Ҳ���ǲ����������ʹ����������</p></li><li><p>������ν����������ԣ��ɿ���ʹ�ô���ģʽ</p></li><li><p>����ģʽ��Ϊ��̬�����Ͷ�̬������jdk��̬�����Լ�cgLib��̬������</p></li><li><p>��ν����ģʽ���ǽ�����ģ�飨����ҵ��ʵ���ࡢ������ǿ�ࣩ���ɵ���ģ�鴦��</p></li></ul><h2 id="��̬����"><a href="#��̬����" class="headerlink" title="��̬����"></a>��̬����</h2><ul><li><p>һ��ҵ��������������ǿ����Ҫһ����̬������</p></li><li><p>ҵ��ʵ�����ӦStudentServiceImpl2.java��������ǿ���ӦTrancManger.java</p></li><li><p>��StudentServiceImpl.java�ı��һ����ʵ����ҵ����StudentServiceImpl2.java��ʵ�ֹ���רһ��</p></li><li><p>����д������StudentStaticProxy.java��������Ҳ���Ƕ������ʵ����ҵ�������������ǿ</p><h3 id="��Ҫ���ӵ���"><a href="#��Ҫ���ӵ���" class="headerlink" title="��Ҫ���ӵ���"></a>��Ҫ���ӵ���</h3><p>StudentServiceImpl2.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.dao.StudentDao;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Operation;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Timestamp;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentServiceImpl2</span> <span class="keyword">implements</span> <span class="title">StudentService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StudentDao studentDao ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ע��</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> SQLException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"></span><br><span class="line">        studentDao.insert(student);</span><br><span class="line">        <span class="comment">//ͬʱ������־������Ϣ</span></span><br><span class="line">        Operation operation = <span class="keyword">new</span> Operation();</span><br><span class="line">        operation.setId(<span class="number">1</span>);</span><br><span class="line">        operation.setOperation(<span class="string">&quot;����ѧ����Ϣ&quot;</span>);</span><br><span class="line">        operation.setOpertime(<span class="keyword">new</span> Timestamp(System.currentTimeMillis()));</span><br><span class="line">        studentDao.insert(operation);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>StudentStaticProxy.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.util.TrancManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentStaticProxy</span> <span class="keyword">implements</span> <span class="title">StudentService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    StudentServiceImpl2 studentServiceImpl2;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    TrancManager trancManager;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            trancManager.startTranc();</span><br><span class="line">            studentServiceImpl2.register(student);</span><br><span class="line">            trancManager.commit();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            trancManager.rollBack();</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="��ز������Լ����"><a href="#��ز������Լ����" class="headerlink" title="��ز������Լ����"></a>��ز������Լ����</h3><ul><li><p>������ʹ��spring���Կ��</p><p>ProxyTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.impl.Proxy1;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.impl.StudentStaticProxy;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;/beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    StudentStaticProxy studentStaticProxy;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StaticTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        student.setId(<span class="number">101</span>);</span><br><span class="line">        student.setUname(<span class="string">&quot;zxc&quot;</span>);</span><br><span class="line">        student.setPassword(<span class="string">&quot;1233t&quot;</span>);</span><br><span class="line">        studentStaticProxy.register(student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>���ݱ���������ͼ�������������⣩</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220406222444.png" alt="image-20220406222443969"></p><h2 id="��̬����-1"><a href="#��̬����-1" class="headerlink" title="��̬����"></a>��̬����</h2><ul><li>���ھ�̬������ֻ��һһ��Ӧ�����Զ�̬����Ӧ�˶���</li><li>һ����̬�����ɳ�Ϊ�����Ĵ�����</li></ul><h3 id="jdk��̬����"><a href="#jdk��̬����" class="headerlink" title="jdk��̬����"></a>jdk��̬����</h3><ul><li>��jdk�����Դ��Ķ�̬����ģ��</li><li>����ʵ��һ���ӿڣ�ҵ��ʵ������������ʵ</li><li>������ֻ����ͨ���ӿڵ���ҵ��ʵ�������ز�������jdk��̬�����Ĳ���</li><li>�ܶ���֮���ǿ��ӿ�����ϵҵ�����������ǿ���������</li><li>����jdk��̬������ʵ������</li></ul><h4 id="��Ҫ���ӵ���-1"><a href="#��Ҫ���ӵ���-1" class="headerlink" title="��Ҫ���ӵ���"></a>��Ҫ���ӵ���</h4><p>  StudentDynamicProxy.java</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.StudentService;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.impl.StudentDynamicProxy;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.impl.StudentStaticProxy;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;/beans.xml&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    StudentStaticProxy studentStaticProxy;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StaticTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        student.setId(<span class="number">101</span>);</span><br><span class="line">        student.setUname(<span class="string">&quot;zxc&quot;</span>);</span><br><span class="line">        student.setPassword(<span class="string">&quot;1233t&quot;</span>);</span><br><span class="line">        studentStaticProxy.register(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    StudentDynamicProxy studentDynamicProxy;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">JdkTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        StudentService o = (StudentService) Proxy.newProxyInstance(</span><br><span class="line">                studentDynamicProxy.getTarget().getClass().getClassLoader(),</span><br><span class="line">                studentDynamicProxy.getTarget().getClass().getInterfaces(),</span><br><span class="line">                studentDynamicProxy);</span><br><span class="line">        Student student=<span class="keyword">new</span> Student() ;</span><br><span class="line">        student.setId(<span class="number">107</span>);</span><br><span class="line">        student.setUname(<span class="string">&quot;�ֱ���&quot;</span>);</span><br><span class="line">        student.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        o.register(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="��ز������Լ����-1"><a href="#��ز������Լ����-1" class="headerlink" title="��ز������Լ����"></a>��ز������Լ����</h4><ul><li><p>�ڲ��������Ӷ�Ӧ����</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">StudentDynamicProxy studentDynamicProxy;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">JdkTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    StudentService o = (StudentService) Proxy.newProxyInstance(</span><br><span class="line">            studentDynamicProxy.getTarget().getClass().getClassLoader(),</span><br><span class="line">            studentDynamicProxy.getTarget().getClass().getInterfaces(),</span><br><span class="line">            studentDynamicProxy);</span><br><span class="line">    Student student=<span class="keyword">new</span> Student() ;</span><br><span class="line">    student.setId(<span class="number">107</span>);</span><br><span class="line">    student.setUname(<span class="string">&quot;�ֱ���&quot;</span>);</span><br><span class="line">    student.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    o.register(student);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>���ݱ���������ͼ�������������⣩</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220406234333.png" alt="image-20220406234333463"></p></li></ul><h3 id="cgLib��̬����"><a href="#cgLib��̬����" class="headerlink" title="cgLib��̬����"></a>cgLib��̬����</h3><ul><li>��spring����ṩ�Ķ�̬����ģ��</li><li>��������ǿ��ҵ���ಢû������Ҫ��</li><li>�Զ����ɴ�����ĸ��࣬�Ա���ô������������ǿ�����Լ�ҵ�����</li><li>Ҳ����˵ҵ�����������ǿ���ɴ�����ĸ�����д���Ա��ڴ�������й��ܻ��߲�������</li></ul><h4 id="��Ҫ���ӵ���-2"><a href="#��Ҫ���ӵ���-2" class="headerlink" title="��Ҫ���ӵ���"></a>��Ҫ���ӵ���</h4><p>StudentCgLibProxy.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.util.TrancManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cglib.proxy.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentCgLibProxy</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;studentServiceImpl2&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getTarget</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TrancManager trancManager;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object o, Method method, Object[] objects)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        Object obj = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            trancManager.startTranc();</span><br><span class="line">            obj = method.invoke(target, objects);</span><br><span class="line">            trancManager.commit();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            trancManager.rollBack();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="��ز������Լ����-2"><a href="#��ز������Լ����-2" class="headerlink" title="��ز������Լ����"></a>��ز������Լ����</h4><ul><li><p>�ڲ��������Ӷ�Ӧ����</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">StudentCgLibProxy studentCgLibProxy;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cgLibTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="comment">//ʹ��cglib������ʵҵ����Ĵ�����(�Ѿ�������ǿ�˵������)</span></span><br><span class="line">    Enhancer enhancer = <span class="keyword">new</span> Enhancer();</span><br><span class="line">    <span class="comment">//������ʵҵ������������࣬Ҳ���Ǵ�����ĸ���</span></span><br><span class="line">    enhancer.setSuperclass(studentCgLibProxy.getTarget().getClass());</span><br><span class="line">    <span class="comment">//����������������enhancer����Ҫ��ǿ�Ĺ�����ʲô</span></span><br><span class="line">    enhancer.setCallback(studentCgLibProxy);</span><br><span class="line">    Object o = enhancer.create();</span><br><span class="line">    StudentServiceImpl2 studentServiceImpl2 = (StudentServiceImpl2) o;</span><br><span class="line">    Student student = <span class="keyword">new</span> Student();</span><br><span class="line">    student.setId(<span class="number">1104</span>);</span><br><span class="line">    student.setUname(<span class="string">&quot;dzx&quot;</span>);</span><br><span class="line">    student.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    studentServiceImpl2.register(student);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>���ݱ���������ͼ�������������⣩</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220406234224.png" alt="image-20220406234224532"></p>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ����ģʽ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>�������</title>
      <link href="/2022/04/05/%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/"/>
      <url>/2022/04/05/%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-�������"><a href="#Spring-�������" class="headerlink" title="Spring-�������"></a>Spring-�������</h1><h2 id="L¼�u"><a href="#L¼�u" class="headerlink" title="Ŀ¼�ṹ"></a>Ŀ¼�ṹ</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405204426.png" alt="image-20220405204425827"></p><h2 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h2><h3 id="�������jar��"><a href="#�������jar��" class="headerlink" title="�������jar��"></a>�������jar��</h3><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring9<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.45<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="����db-properties�l�"><a href="#����db-properties�l�" class="headerlink" title="����db.properties�ļ�"></a>����db.properties�ļ�</h3><p>db.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driverClassName</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/spring?useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class="line"><span class="meta">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure><h3 id="����beans-xml�l�"><a href="#����beans-xml�l�" class="headerlink" title="����beans.xml�ļ�"></a>����beans.xml�ļ�</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;cn.kairong.spring.*&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--�ȼ��ص�db.properties�����ļ���--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;db.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ʹ��Druid���ӳ�--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;druidDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverClassName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="�������ݱ�"><a href="#�������ݱ�" class="headerlink" title="�������ݱ�"></a>�������ݱ�</h3><p>student</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `uname` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>operation</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `uname` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="entity��"><a href="#entity��" class="headerlink" title="entity��"></a>entity��</h2><h3 id="Student-java"><a href="#Student-java" class="headerlink" title="Student.java"></a>Student.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.entity;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * �����ݿ��studentӳ���ʵ����</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id ;</span><br><span class="line">    <span class="keyword">private</span> String uname ;</span><br><span class="line">    <span class="keyword">private</span> String password ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUname</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> uname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUname</span><span class="params">(String uname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.uname = uname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Operstion-java"><a href="#Operstion-java" class="headerlink" title="Operstion.java"></a>Operstion.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Timestamp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Operation</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id ;</span><br><span class="line">    <span class="keyword">private</span> String  operation ;</span><br><span class="line">    <span class="keyword">private</span> Timestamp opertime ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getOperation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> operation;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOperation</span><span class="params">(String operation)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.operation = operation;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Timestamp <span class="title">getOpertime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> opertime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOpertime</span><span class="params">(Timestamp opertime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.opertime = opertime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dao��"><a href="#dao��" class="headerlink" title="dao��"></a>dao��</h2><h3 id="�־o�ӿ�"><a href="#�־o�ӿ�" class="headerlink" title="�־ò�ӿ�"></a>�־ò�ӿ�</h3><p>IStudentDao</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Operation;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ���û���ص����ݿ����</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IStudentDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ����ѧ����Ϣ�����ݿ���</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ������־��Ϣ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> operation</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Operation operation)</span> <span class="keyword">throws</span> SQLException</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="�־o�ӿ�ʵ����"><a href="#�־o�ӿ�ʵ����" class="headerlink" title="�־ò�ӿ�ʵ����"></a>�־ò�ӿ�ʵ����</h3><p>StudentDaoImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.dao.IStudentDao;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Operation;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ��StduentDao��ʵ����</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentDaoimpl</span> <span class="keyword">implements</span> <span class="title">IStudentDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Resource</span></span><br><span class="line"><span class="comment">//    private TrancManager trancManager ;</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    DruidDataSource druidDataSource;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  ����ѧ����Ϣ�����ݿ���</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//�Ȼ�ȡ����  ʹ��druid���ӳ�</span></span><br><span class="line">        Connection connection = druidDataSource.getConnection();</span><br><span class="line"><span class="comment">//        Connection connection = trancManager.getConnection();</span></span><br><span class="line">        System.out.println(connection);</span><br><span class="line">        PreparedStatement pst = connection.prepareStatement(<span class="string">&quot;insert into student values (?,?,?)&quot;</span>);</span><br><span class="line">        pst.setInt(<span class="number">1</span>, student.getId());</span><br><span class="line">        pst.setString(<span class="number">2</span>, student.getUname());</span><br><span class="line">        pst.setString(<span class="number">3</span>, student.getPassword());</span><br><span class="line">        pst.executeUpdate();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Operation operation)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//�Ȼ�ȡ����  ʹ��druid���ӳ�</span></span><br><span class="line">        Connection connection = druidDataSource.getConnection();</span><br><span class="line"><span class="comment">//        Connection connection = trancManager.getConnection();</span></span><br><span class="line">        System.out.println(connection);</span><br><span class="line">        PreparedStatement pst = connection.prepareStatement(<span class="string">&quot;insert into operation values (?,?,?)&quot;</span>);</span><br><span class="line">        pst.setInt(<span class="number">1</span>,operation.getId());</span><br><span class="line">        pst.setString(<span class="number">2</span>,operation.getOperation());</span><br><span class="line">        pst.setTimestamp(<span class="number">3</span>,operation.getOpertime());</span><br><span class="line"><span class="comment">//        double i=1/0 ;</span></span><br><span class="line">        pst.executeUpdate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="service��"><a href="#service��" class="headerlink" title="service��"></a>service��</h2><h3 id="ҵ���ӿ�"><a href="#ҵ���ӿ�" class="headerlink" title="ҵ���ӿ�"></a>ҵ���ӿ�</h3><p>IStudentService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ѧ����ص�ҵ��ӿ�</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IStudentService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">register</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ҵ���ӿ�ʵ����"><a href="#ҵ���ӿ�ʵ����" class="headerlink" title="ҵ���ӿ�ʵ����"></a>ҵ���ӿ�ʵ����</h3><p>StudentServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.dao.IStudentDao;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Operation;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.IStudentService;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Timestamp;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentServiceImpl</span> <span class="keyword">implements</span> <span class="title">IStudentService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> IStudentDao IStudentDao;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Autowired</span></span><br><span class="line"><span class="comment">//    private TrancManager trancManager ;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DruidDataSource druidDataSource;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ע��</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> SQLException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">register</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//��Ҫ����dao��ķ���</span></span><br><span class="line">        <span class="comment">//����ѧ����Ϣ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            druidDataSource.getConnection();</span><br><span class="line">       <span class="comment">//�������druidDataSource.getConnection();������</span></span><br><span class="line"><span class="comment">//            trancManager.startTranc();</span></span><br><span class="line">            IStudentDao.insert(student);</span><br><span class="line">            <span class="comment">//ͬʱ������־������Ϣ</span></span><br><span class="line">            Operation operation = <span class="keyword">new</span> Operation();</span><br><span class="line">            operation.setId(<span class="number">1</span>);</span><br><span class="line">            operation.setOperation(<span class="string">&quot;����ѧ����Ϣ&quot;</span>);</span><br><span class="line">            operation.setOpertime(<span class="keyword">new</span> Timestamp(System.currentTimeMillis()));</span><br><span class="line">            IStudentDao.insert(operation);</span><br><span class="line">            <span class="comment">//�ύ</span></span><br><span class="line"><span class="comment">//            trancManager.commit();</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            <span class="comment">//�ع�</span></span><br><span class="line"><span class="comment">//            trancManager.rollBack();</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="util��"><a href="#util��" class="headerlink" title="util��"></a>util��</h2><ul><li><p>druid���ӻ�ȡ�Լ��жϵĹ����࣬���ڽ���������Υ��ԭ���Ե����⡣</p></li><li><p>ԭ���ԣ���ִ�й���������������᷵��ִ��ǰ�ĳ�ʼ״̬����û����������ȫִ�С�</p></li><li><p>�õ���beans.xml�����õ�druidDataSource�������ɹ�����druid���Ӳ������ж����ӻ�ȡ���</p><p><strong>TrancManger.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidPooledConnection;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TrancManager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    DruidDataSource druidDataSource ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//���ڴ�����ӵ�ThreadLocal��������</span></span><br><span class="line">    <span class="keyword">private</span> ThreadLocal&lt;Connection&gt; local=<span class="keyword">new</span> ThreadLocal&lt;Connection&gt;();</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ����Druid���ӳػ�ȡ����</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> SQLException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//dao�����ڻ�ȡ���ӵ�ʱ���ж��Ƿ���ڸ�����</span></span><br><span class="line">        <span class="keyword">if</span>(local.get() !=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> local.get() ;</span><br><span class="line">        &#125;</span><br><span class="line">        DruidPooledConnection connection = druidDataSource.getConnection();</span><br><span class="line">        local.set(connection);</span><br><span class="line">        <span class="keyword">return</span>  connection; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startTranc</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//�ر��Զ��ύ</span></span><br><span class="line">        getConnection().setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">commit</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        getConnection().commit();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rollBack</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        getConnection().rollback();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="�������Լ����"><a href="#�������Լ����" class="headerlink" title="�������Լ����"></a>�������Լ����</h2><ul><li>������ʹ��Spring�Ĳ�������</li></ul><h3 id="����һ"><a href="#����һ" class="headerlink" title="����һ"></a>����һ</h3><ul><li><p>����������</p><p>SpringTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.IStudentService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;classpath:beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> IStudentService studentServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testService</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        student.setId(<span class="number">107</span>);</span><br><span class="line">        student.setUname(<span class="string">&quot;����&quot;</span>);</span><br><span class="line">        student.setPassword(<span class="string">&quot;567890&quot;</span>);</span><br><span class="line">        studentServiceImpl.register(student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="���һ"><a href="#���һ" class="headerlink" title="���һ"></a>���һ</h4><ul><li><p>���쳣����</p></li><li><p>����̨�ޱ���</p></li><li><p>���ݱ����ݽ����ͼ</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405213721.png" alt="image-20220405213721598"></p><h4 id="�����"><a href="#�����" class="headerlink" title="�����"></a>�����</h4><ul><li><p>�쳣����</p></li><li><p>������ݱ���������</p></li><li><p>��StudentDaoImpl.java��operation��insert���������쳣�������õ��ǳ���Ϊ����쳣��</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> i=<span class="number">1</span>/<span class="number">0</span> ;</span><br></pre></td></tr></table></figure></li><li><p>����̨�������</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405214606.png" alt="image-20220405214606644"></p><ul><li>���ݱ����ݽ����ͼ</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405214756.png" alt="image-20220405214756301"></p><ul><li>����Υ��ԭ���Ե�����</li><li>����취�����Զ�</li></ul><h3 id="���Զ�"><a href="#���Զ�" class="headerlink" title="���Զ�"></a>���Զ�</h3><ul><li><p>Ϊά��ԭ���ԣ�����������ع�����</p></li><li><p>�����Զ������ύ��Ӱ�죬��Ҫ�ر��Զ��ύ�Լ������ֶ��ύ</p></li><li><p>���ڴ�����ִ�������ű����������Ӳ��������Կ��Ǹ��������ӷ�ʽ��ʹ��ͬһ���������ӷ���</p></li><li><p>Ϊ����util�㴴��������ʵ���������󣬾�������util��TrancManger.java</p></li><li><p>��Ҫ���־ò�ʵ����StudnetDaoImpl.java��DruidDataSource�滻��TrancManger�Լ�druidDataSource�滻��trancManger</p></li><li><p>��ҵ���ʵ����StudentServiceImpl.java��ִ���ϳ־ò���Ĳ���</p></li><li><p>��ҵ���ʵ������Ҫ�ڶ�Ӧλ�����Ӷ�Ӧ���������,λ�ü�StudentServiceImpl.java�е�ע��</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trancManager.startTranc();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trancManager.commit();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trancManager.rollBack();</span><br></pre></td></tr></table></figure></li></ul><h4 id="���һ-1"><a href="#���һ-1" class="headerlink" title="���һ"></a>���һ</h4><ul><li><p>���쳣����</p></li><li><p>������ݱ���������</p></li><li><p>����̨�ޱ���</p></li><li><p>���ݱ����ݽ����ͼ</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405213721.png" alt="image-20220405214756301"></p><h4 id="�����-1"><a href="#�����-1" class="headerlink" title="�����"></a>�����</h4><ul><li><p>�쳣����</p></li><li><p>������ݱ���������</p></li><li><p>��StudentDaoImpl.java��operation��insert���������쳣�������õ��ǳ���Ϊ����쳣��</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> i=<span class="number">1</span>/<span class="number">0</span> ;</span><br></pre></td></tr></table></figure></li><li><p>����̨�������</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405214606.png" alt="image-20220405214606644"></p><ul><li>���ݱ����ݽ����ͼ</li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405223146.png" alt="image-20220405223145962"></p><h2 id="�ܽ�"><a href="#�ܽ�" class="headerlink" title="�ܽ�"></a>�ܽ�</h2><ul><li> ����Ĵ��������δ���ǿ��ܴ���Υ��ԭ���Ե�����</li><li>�ڲ����������쳣�Ľ�������ǲµ��Է��ִ��ڵ�����</li><li>˼������취ʱ��עִ�ж��ҵ��ʱ�����ڵĹ�ͬ����߹�ͬ�����</li><li>ͬʱ��Ҫ�ų��Զ��ύ�Ŀ�����</li><li>����Ļع�ͬ����ά��ԭ���Ե��ص�</li><li>�������������д����Ҫ��Ĺ�����</li><li>��ҵ�����try-catch�������������׳����쳣���ɽ��Υ��ԭ���Ե�����</li></ul>]]></content>
      
      
      <categories>
          
          <category> spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ������� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ԭ��������Druid</title>
      <link href="/2022/04/05/%E5%8E%9F%E7%94%9F%E5%B7%A5%E5%85%B7%E7%B1%BBDruid/"/>
      <url>/2022/04/05/%E5%8E%9F%E7%94%9F%E5%B7%A5%E5%85%B7%E7%B1%BBDruid/</url>
      
        <content type="html"><![CDATA[<h1 id="ԭ������������ע��"><a href="#ԭ������������ע��" class="headerlink" title="ԭ������������ע��"></a>ԭ������������ע��</h1><h2 id="L¼�u"><a href="#L¼�u" class="headerlink" title="Ŀ¼�ṹ"></a>Ŀ¼�ṹ</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405030915.png" alt="image-20220405030914867"></p><h2 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h2><h3 id="�������jar��"><a href="#�������jar��" class="headerlink" title="�������jar��"></a>�������jar��</h3><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring7<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.45<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="����bean-xml�l�"><a href="#����bean-xml�l�" class="headerlink" title="����bean.xml�ļ�"></a>����bean.xml�ļ�</h3><ul><li><p>����ע��ɨ����</p><p>beans.xml</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--����ע��ɨ����--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;cn.kairong.spring.*&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="����ԭ��������"><a href="#����ԭ��������" class="headerlink" title="����ԭ��������"></a>����ԭ��������</h2><p>DruidUtil.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.PreDestroy;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DruidUtil</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> DruidDataSource druidDataSource;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DruidUtil</span><span class="params">()</span></span>&#123;</span><br><span class="line">        druidDataSource = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * �Զ���ʼ��</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@PostConstruct</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        druidDataSource.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        druidDataSource.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring?useUnicode=true&amp;characterEncoding=utf-8&quot;</span>);</span><br><span class="line">        druidDataSource.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        druidDataSource.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ִ�г�ʼ��&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> druidDataSource.getConnection();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * �Զ�����</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@PreDestroy</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>&#123;</span><br><span class="line">        druidDataSource.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;ִ�йرղ���&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="��ز������Լ�������"><a href="#��ز������Լ�������" class="headerlink" title="��ز������Լ�������"></a>��ز������Լ�������</h2><h3 id="��Spring����"><a href="#��Spring����" class="headerlink" title="��Spring����"></a>��Spring����</h3><ul><li><p>���������δ��Spring����ע��(@Component,@PostConstruct,@PreDestroy)</p></li><li><p>��˲����������ֶ���ʼ���Լ�����</p></li><li><p>����������</p><p>DruidUtilTest.java</p></li></ul> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.util.DruidUtil;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DruidUtiTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DruidUtilTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        DruidUtil druidUtil = <span class="keyword">new</span> DruidUtil();</span><br><span class="line">        druidUtil.init();</span><br><span class="line">        Connection connection = druidUtil.getConnection();</span><br><span class="line">        System.out.println(connection);</span><br><span class="line">        druidUtil.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>����̨������</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405031634.png" alt="image-20220405031634265"></p></li></ul><h3 id="Spring����"><a href="#Spring����" class="headerlink" title="Spring����"></a>Spring����</h3><ul><li><p>���������ʹ��Spring����ע��(@Component,@PostConstruct,@PreDestroy)</p></li><li><p>����ڲ������������ֶ���ʼ���Լ����٣���ע�����spring����Զ���ִ��</p></li><li><p>����������</p><p>DruidUtilTestSpring.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.util.DruidUtil;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;/beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DruidUtilTestSpring</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    DruidUtil druidUtil;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SpringAnnoTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        System.out.println(druidUtil.getConnection());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>����̨������</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405031701.png" alt="image-20220405031701857"></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ע�� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring-ע��</title>
      <link href="/2022/04/05/spring-%E6%B3%A8%E8%A7%A3/"/>
      <url>/2022/04/05/spring-%E6%B3%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-ע��"><a href="#Spring-ע��" class="headerlink" title="Spring-ע��"></a>Spring-ע��</h1><h2 id="L¼�u"><a href="#L¼�u" class="headerlink" title="Ŀ¼�ṹ"></a>Ŀ¼�ṹ</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220405003150.png" alt="image-20220405003150600"></p><h2 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h2><h3 id="�������jar��"><a href="#�������jar��" class="headerlink" title="�������jar��"></a>�������jar��</h3><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring6<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.45<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="����beans-xml"><a href="#����beans-xml" class="headerlink" title="����beans.xml"></a>����beans.xml</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--����ע��ɨ����--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;cn.kairong.spring.*&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="IOC-ע��"><a href="#IOC-ע��" class="headerlink" title="IOC-ע��"></a>IOC-ע��</h2><h3 id="Service-ҵ���"><a href="#Service-ҵ���" class="headerlink" title="@Service(ҵ���)"></a>@Service(ҵ���)</h3><h4 id="ҵ��ӿ��Լ�ʵ����"><a href="#ҵ��ӿ��Լ�ʵ����" class="headerlink" title="ҵ��ӿ��Լ�ʵ����"></a>ҵ��ӿ��Լ�ʵ����</h4><ul><li><p>��service���´���IMyService�ӿ�</p><p>IMyService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IMyService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">myService</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>��service���´�����Ӧ�ӿ�ʵ����</p><p>MyServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.IMyService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Service</span>ע������ҵ���</span></span><br><span class="line"><span class="comment"> * ����ʵ����</span></span><br><span class="line"><span class="comment"> * ����<span class="doctag">@Service</span>��Ч����Ҫ��beans.xnl��������ע��ɨ������ע���·����</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Myserviceimpl</span> <span class="keyword">implements</span> <span class="title">IMyService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ҵ��ʵ��&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="�������Լ�������"><a href="#�������Լ�������" class="headerlink" title="�������Լ�������"></a>�������Լ�������</h4><ul><li><p>����������</p><p>AnnoTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.impl.Myserviceimpl;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;/beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnoTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    Myserviceimpl myserviceimpl;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MyServiceTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(myserviceimpl);</span><br><span class="line">        myserviceimpl.myService();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>����̨������</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220404223608.png" alt="image-20220404223608748"></p></li></ul><h3 id="Component-�������"><a href="#Component-�������" class="headerlink" title="@Component(�������)"></a>@Component(�������)</h3><h4 id="���ݿ����ӹ�����"><a href="#���ݿ����ӹ�����" class="headerlink" title="���ݿ����ӹ�����"></a>���ݿ����ӹ�����</h4><ul><li><p>����һ���������ݿ�Ĺ�����</p><p>MyJDBCUtil.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Component</span> �û����--���û�ת��bean������spring��������</span></span><br><span class="line"><span class="comment"> * ������Ҫע��ɨ��</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyJDBCUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://localhost:3306/spring?useUnicode=true&amp;characterEncoding=utf-8&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="�������Լ�������-1"><a href="#�������Լ�������-1" class="headerlink" title="�������Լ�������"></a>�������Լ�������</h4><ul><li><p>�ڲ�������������ز���</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line">MyJDBCUtil myJDBCUtil;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MyJdbcYest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    System.out.println(myJDBCUtil);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>����̨������</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220404230101.png" alt="image-20220404230101390"></p></li></ul><h3 id="Reposity-�־o�"><a href="#Reposity-�־o�" class="headerlink" title="@Reposity(�־ò�)"></a>@Reposity(�־ò�)</h3><h4 id="�־o�ӿ��Լ�ʵ����"><a href="#�־o�ӿ��Լ�ʵ����" class="headerlink" title="�־ò�ӿ��Լ�ʵ����"></a>�־ò�ӿ��Լ�ʵ����</h4><ul><li><p>��dao���´���IMyDao�ӿ�</p><p>IMyDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IMyDao</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>��dao���´���IMyDaoImplʵ����</p><p>IMyDaoImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.dao.IMyDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Repository</span> ͬ���ڳ־ò�ʵ����</span></span><br><span class="line"><span class="comment"> * ������Ҫע��ɨ��</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyDaoImpl</span> <span class="keyword">implements</span> <span class="title">IMyDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�������ݣ�&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;�޸�����&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="�������Լ�������-2"><a href="#�������Լ�������-2" class="headerlink" title="�������Լ�������"></a>�������Լ�������</h4><ul><li><p>�ڲ�����������ز���</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line">MyDaoImpl myDaoimpl;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MyDaoTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(myDaoimpl);</span><br><span class="line">    myDaoimpl.insert();</span><br><span class="line">    myDaoimpl.update();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>����̨������</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220404231909.png" alt="image-20220404231909526"></p></li></ul><h2 id="DI-ע��"><a href="#DI-ע��" class="headerlink" title="DI-ע��"></a>DI-ע��</h2><h3 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h3><h4 id="�÷�ע��"><a href="#�÷�ע��" class="headerlink" title="�÷�ע��"></a>�÷�ע��</h4><ul><li>���ڸ���������/�������͵ķ�װ����String���ͣ������������ϡ�setter������</li></ul><h4 id="����һ��ʵ����"><a href="#����һ��ʵ����" class="headerlink" title="����һ��ʵ����"></a>����һ��ʵ����</h4><ul><li><p>��Studentʵ������@Value��ֵ</p><p>Student.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;101&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@Value(&quot;dzx&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Value(&quot;123456&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="�������Լ�������-3"><a href="#�������Լ�������-3" class="headerlink" title="�������Լ�������"></a>�������Լ�������</h4><ul><li><p>����������</p><p>DITest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;/beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DITest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    Student student;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StudentTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>����̨������</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220404233710.png" alt="image-20220404233710746"></p></li></ul><h3 id="AutoWired"><a href="#AutoWired" class="headerlink" title="@AutoWired"></a>@AutoWired</h3><h4 id="�÷�ע��-1"><a href="#�÷�ע��-1" class="headerlink" title="�÷�ע��"></a>�÷�ע��</h4><ul><li>���Զ�������/������������������������/��ֵ�������Ͳ��ң�������ֻ��һ�������͵�Bean ,ֱ�ӽ������е�Beanע�뵽��ǰ�����С�</li><li>�������Ͳ���ʱ���ҵ������ͬ���͵�Bean����ô�ָ�������ƥ�䣬�����ƥ�䵽����ôֱ��ע�룬�����������û��ƥ�䵽��ֱ�ӱ�����@Qulifter(��id/name��)��@Autowiredע�����ʹ�á�</li></ul><h4 id="����һ��ʵ����-1"><a href="#����һ��ʵ����-1" class="headerlink" title="����һ��ʵ����"></a>����һ��ʵ����</h4><ul><li><p>��Hobby.java����@AutoWired��������ע��,ע���������Student.java</p><p>Hobby.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hobby</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;201&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@Value(&quot;ckr&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line"><span class="comment">//    @Qualifier(&quot;student&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Student student;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">getStudent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> student;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStudent</span><span class="params">(Student student)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.student = student;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hobby&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, student=&quot;</span> + student +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="�������Լ�������-4"><a href="#�������Լ�������-4" class="headerlink" title="�������Լ�������"></a>�������Լ�������</h4><ul><li><p>�ڲ�����������ز���</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line">Hobby hobby;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">HobbyTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(hobby);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>����̨������</p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220404235407.png" alt="image-20220404235407220"></p></li></ul><h3 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h3><h4 id="�÷�ע��-2"><a href="#�÷�ע��-2" class="headerlink" title="�÷�ע��"></a>�÷�ע��</h4><ul><li>���Զ�������/��������������������������ֵ@���ȸ�������ƥ�䣬���ƥ�䵽�˸����ƣ���ôֱ��ע�룬���û��ƥ�䵽���ƣ��ڸ�������ƥ�䣬���ƥ�䵽�����͵�Ψһ��һ��bean����ôֱ��ע�롣</li><li>���ƥ�䵽�˶����ͬ���͵�Bean��ֱ�ӱ�������@Resource(name=��id/name��)–���ָ����ƥ������ƣ��������Ȼû��ƥ�䵽���Ͳ����ٰ�������ƥ���ˣ�ֱ�ӱ����ˡ�</li></ul><h4 id="����һ��ʵ����-2"><a href="#����һ��ʵ����-2" class="headerlink" title="����һ��ʵ����"></a>����һ��ʵ����</h4><ul><li><p>��Hobby.java����@Resource��������ע��,ע���������Student.java</p><p>Hobby.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hobby</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;201&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="meta">@Value(&quot;ckr&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    @Resource(name = &quot;student&quot;)</span></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> Student student;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">getStudent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> student;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStudent</span><span class="params">(Student student)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.student = student;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hobby&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, student=&quot;</span> + student +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="�������Լ�������-5"><a href="#�������Լ�������-5" class="headerlink" title="�������Լ�������"></a>�������Լ�������</h4><ul><li><p>�ڲ��������Ӧ��HobbyTest</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line">Hobby hobby;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">HobbyTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(hobby);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>����̨������</p></li></ul><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220404235407.png" alt="image-20220404235407220"></p>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ע�� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring-project</title>
      <link href="/2022/04/01/Spring-project/"/>
      <url>/2022/04/01/Spring-project/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring��ܳ���ʹ��"><a href="#Spring��ܳ���ʹ��" class="headerlink" title="Spring��ܳ���ʹ��"></a>Spring��ܳ���ʹ��</h1><h2 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h2><h3 id="����db-properties�l�"><a href="#����db-properties�l�" class="headerlink" title="����db.properties�ļ�"></a>����db.properties�ļ�</h3><p>db.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driverClassName</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/spring?useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class="line"><span class="meta">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure><h3 id="����beans-xml�l�"><a href="#����beans-xml�l�" class="headerlink" title="����beans.xml�ļ�"></a>����beans.xml�ļ�</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;cn.kairong.spring.*&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--�ȼ��ص�db.properties�����ļ���--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;db.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ʹ��Druid���ӳ�--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;druidDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverClassName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--����StudentDaoImpl��DruidDataSource��setterע��--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.kairong.spring.dao.impl.StudentDaoImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;druidDataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;druidDataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--����StudentServiceImpl��StudentDao��setterע��--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;studentServiceImpl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.kairong.spring.service.impl.StudentServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;IStudentDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dao&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="��LL¼"><a href="#��LL¼" class="headerlink" title="��ĿĿ¼"></a>��ĿĿ¼</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220401020634.png" alt="image-20220401020634639"></p><h2 id="����ʵ�������"><a href="#����ʵ�������" class="headerlink" title="����ʵ�������"></a>����ʵ�������</h2><p>Student.java(entity��)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.entity;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * �����ݿ��studentӳ���ʵ����</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id ;</span><br><span class="line">    <span class="keyword">private</span> String uname ;</span><br><span class="line">    <span class="keyword">private</span> String password ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUname</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> uname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUname</span><span class="params">(String uname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.uname = uname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="�����־o�ӿ�"><a href="#�����־o�ӿ�" class="headerlink" title="�����־ò�ӿ�"></a>�����־ò�ӿ�</h2><p>IStudentDao.java(dao��)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ���û���ص����ݿ����</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IStudentDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ����ѧ����Ϣ�����ݿ���</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="�����־o�ʵ����"><a href="#�����־o�ʵ����" class="headerlink" title="�����־ò�ʵ����"></a>�����־ò�ʵ����</h2><p>StudentDaoImpl(dao��)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.dao.IStudentDao;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidPooledConnection;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ��StduentDao��ʵ����</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="comment">//@Repositoryע�����ڳ־ò�ʵ����,��Ҫbeans�ļ�����ע��ɨ������Ч����Ҫ����spring���Զ������൱�ڿ���Զ���������Ӧ��bean�࣬ͬ������spring�Դ��Ĳ��Կ�ܡ�</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentDaoImpl</span> <span class="keyword">implements</span> <span class="title">IStudentDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  ����ѧ����Ϣ�����ݿ���</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> student</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> DruidDataSource druidDataSource;</span><br><span class="line">    <span class="comment">//����beans.xml�ļ�ʵ��setterע��</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDruidDataSource</span><span class="params">(DruidDataSource druidDataSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.druidDataSource = druidDataSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//�������Ӷ���</span></span><br><span class="line">        DruidPooledConnection connection = druidDataSource.getConnection();</span><br><span class="line">        PreparedStatement preparedStatement = connection.prepareStatement(<span class="string">&quot;insert into student values (?,?,?)&quot;</span>);</span><br><span class="line">        preparedStatement.setInt(<span class="number">1</span>,student.getId());</span><br><span class="line">        preparedStatement.setString(<span class="number">2</span>,student.getUname());</span><br><span class="line">        preparedStatement.setString(<span class="number">3</span>,student.getPassword());</span><br><span class="line">        preparedStatement.executeUpdate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="����ҵ���ӿ�"><a href="#����ҵ���ӿ�" class="headerlink" title="����ҵ���ӿ�"></a>����ҵ���ӿ�</h2><p>IStudentService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ѧ����ص�ҵ��ӿ�</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IStudentService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="����ҵ���ʵ����"><a href="#����ҵ���ʵ����" class="headerlink" title="����ҵ���ʵ����"></a>����ҵ���ʵ����</h2><p>StudentServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.dao.IStudentDao;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.IStudentService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="comment">//@Serviceע������ҵ���ʵ���࣬��Ҫbeans�ļ�����ע��ɨ������Ч����Ҫ����spring���Զ������൱�ڿ���Զ���������Ӧ��bean�࣬ͬ������spring�Դ��Ĳ��Կ��</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentServiceImpl</span> <span class="keyword">implements</span> <span class="title">IStudentService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IStudentDao iStudentDao;</span><br><span class="line">    <span class="comment">//����beans.xml�ļ�ʵ��IStudentDao��setterע��</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIStudentDao</span><span class="params">(IStudentDao iStudentDao)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.iStudentDao = iStudentDao;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        iStudentDao.insert(student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="����������"><a href="#����������" class="headerlink" title="����������"></a>����������</h2><h3 id="Junit��Ԫ����"><a href="#Junit��Ԫ����" class="headerlink" title="Junit��Ԫ����"></a>Junit��Ԫ����</h3><p>TestService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.impl.StudentServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testRegister</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line">        StudentServiceImpl studentServiceImpl = ac.getBean(<span class="string">&quot;studentServiceImpl&quot;</span>, StudentServiceImpl.class);</span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        student.setId(<span class="number">110</span>);</span><br><span class="line">        student.setUname(<span class="string">&quot;�ܴ�&quot;</span>);</span><br><span class="line">        student.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        studentServiceImpl.insert(student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="���Խ��"><a href="#���Խ��" class="headerlink" title="���Խ��"></a>���Խ��</h4><h5 id="���ݱ��ĳ�ʼͼ"><a href="#���ݱ��ĳ�ʼͼ" class="headerlink" title="���ݱ��ĳ�ʼͼ"></a>���ݱ��ĳ�ʼͼ</h5><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220401024319.png" alt="image-20220401024319232"></p><h5 id="���Գɹ����"><a href="#���Գɹ����" class="headerlink" title="���Գɹ����"></a>���Գɹ����</h5><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220401024333.png" alt="image-20220401024333244"></p><h3 id="���Spring���Կ��"><a href="#���Spring���Կ��" class="headerlink" title="���Spring���Կ��"></a>���Spring���Կ��</h3><h4 id="���Խ��-1"><a href="#���Խ��-1" class="headerlink" title="���Խ��"></a>���Խ��</h4><p>TestSpring.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cn.kairong.spring.entity.Student;</span><br><span class="line"><span class="keyword">import</span> cn.kairong.spring.service.impl.StudentServiceImpl;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;classpath:beans.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSpring</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    StudentServiceImpl studentServiceImpl;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test2</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Student student = <span class="keyword">new</span> Student();</span><br><span class="line">        student.setId(<span class="number">111</span>);</span><br><span class="line">        student.setUname(<span class="string">&quot;�ܶ�&quot;</span>);</span><br><span class="line">        student.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        studentServiceImpl.insert(student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="���ݱ��ĳ�ʼͼ-1"><a href="#���ݱ��ĳ�ʼͼ-1" class="headerlink" title="���ݱ��ĳ�ʼͼ"></a>���ݱ��ĳ�ʼͼ</h5><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220401024333.png" alt="image-20220401024333244"></p><h5 id="���Գɹ����-1"><a href="#���Գɹ����-1" class="headerlink" title="���Գɹ����"></a>���Գɹ����</h5><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220401024438.png" alt="image-20220401024437964"></p>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springOne </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring-JDBC</title>
      <link href="/2022/04/01/Spring-JDBC/"/>
      <url>/2022/04/01/Spring-JDBC/</url>
      
        <content type="html"><![CDATA[<h1 id="spring�����ݿ�����"><a href="#spring�����ݿ�����" class="headerlink" title="spring�����ݿ�����"></a>spring�����ݿ�����</h1><h2 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h2><h3 id="pom-xml�l�"><a href="#pom-xml�l�" class="headerlink" title="pom.xml�ļ�"></a>pom.xml�ļ�</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Spring4<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.45<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.8.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="���ݿ⽨��"><a href="#���ݿ⽨��" class="headerlink" title="���ݿ⽨��"></a>���ݿ⽨��</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>`  (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;ckr&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="����db-propreties�l�"><a href="#����db-propreties�l�" class="headerlink" title="����db.propreties�ļ�"></a>����db.propreties�ļ�</h3><p>db.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driverClassName</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/spring?useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class="line"><span class="meta">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure><h2 id="��ͳ��ʽ"><a href="#��ͳ��ʽ" class="headerlink" title="��ͳ��ʽ"></a>��ͳ��ʽ</h2><h3 id="����һ��������"><a href="#����һ��������" class="headerlink" title="����һ��������"></a>����һ��������</h3><p>DateSourceTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.xml.transform.Result;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateSourceTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OneTest</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//��������</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//��ȡ����</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://localhost:3306/spring?useUnicode=true&amp;characterEncoding=utf-8&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        System.out.println(connection);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//�������ӽ������ݿ����</span></span><br><span class="line">        PreparedStatement pst = connection.prepareStatement(<span class="string">&quot;select * from user&quot;</span>);</span><br><span class="line">        ResultSet resultSet = pst.executeQuery();</span><br><span class="line">        <span class="keyword">while</span> (resultSet.next())&#123;</span><br><span class="line">            Integer id = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">            String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            String password = resultSet.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">            System.out.println(id+<span class="string">&quot;--&quot;</span>+name+<span class="string">&quot;--&quot;</span>+password);</span><br><span class="line">        &#125;</span><br><span class="line">        resultSet.close();</span><br><span class="line">        pst.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="����̨���"><a href="#����̨���" class="headerlink" title="����̨���"></a>����̨���</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220331001802.png" alt="image-20220331001801703"></p><h2 id="�����෽ʽ"><a href="#�����෽ʽ" class="headerlink" title="�����෽ʽ"></a>�����෽ʽ</h2><h3 id="����������"><a href="#����������" class="headerlink" title="����������"></a>����������</h3><p>JDBCUtil.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.kairong.spring.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.ResourceBundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String driverClassName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String url;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String username;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String password;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">    ResourceBundle bundle = ResourceBundle.getBundle(<span class="string">&quot;db&quot;</span>);</span><br><span class="line">    driverClassName = bundle.getString(<span class="string">&quot;jdbc.driverClassName&quot;</span>);</span><br><span class="line">    url = bundle.getString(<span class="string">&quot;jdbc.url&quot;</span>);</span><br><span class="line">    username = bundle.getString(<span class="string">&quot;jdbc.username&quot;</span>);</span><br><span class="line">    password = bundle.getString(<span class="string">&quot;jdbc.password&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ��ȡ����</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;</span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(url,username,password);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * �ر�����</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(ResultSet rs, Statement st,Connection conn)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rs != <span class="keyword">null</span>)&#123;</span><br><span class="line">            rs.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (st != <span class="keyword">null</span>) &#123;</span><br><span class="line">            st.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (conn != <span class="keyword">null</span>)&#123;</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="��ز�����"><a href="#��ز�����" class="headerlink" title="��ز�����"></a>��ز�����</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TwoTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    Connection conn = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">    ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        conn = JDBCUtil.getConnection();</span><br><span class="line">        ps = conn.prepareStatement(<span class="string">&quot;select * from user&quot;</span>);</span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line">        <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">            System.out.println(rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        JDBCUtil.close(rs,ps,conn);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="����̨���-1"><a href="#����̨���-1" class="headerlink" title="����̨���"></a>����̨���</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220331010301.png" alt="image-20220331010301828"></p><h2 id="���Spring1-0��ʽ"><a href="#���Spring1-0��ʽ" class="headerlink" title="���Spring1.0��ʽ"></a>���Spring1.0��ʽ</h2><h3 id="����beans-xml�l�"><a href="#����beans-xml�l�" class="headerlink" title="����beans.xml�ļ�"></a>����beans.xml�ļ�</h3><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--�ȼ��ص�db.properties�����ļ���--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;db.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--spring��ܼ���jdbc--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverClassName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="��ز�����-1"><a href="#��ز�����-1" class="headerlink" title="��ز�����"></a>��ز�����</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ThreeTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">        ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line">        DriverManagerDataSource dataSource = ac.getBean(<span class="string">&quot;dataSource&quot;</span>,DriverManagerDataSource.class);</span><br><span class="line">        Connection connection = dataSource.getConnection();</span><br><span class="line">        System.out.println(connection);</span><br><span class="line">        PreparedStatement ps = connection.prepareStatement(<span class="string">&quot;select * from user&quot;</span>);</span><br><span class="line">        ResultSet rs = ps.executeQuery();</span><br><span class="line">        <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">            Integer id = rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">            String name = rs.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            String password = rs.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">            System.out.println(id+<span class="string">&quot;--&quot;</span>+name+<span class="string">&quot;--&quot;</span>+password);</span><br><span class="line">        &#125;</span><br><span class="line">        rs.close();</span><br><span class="line">        ps.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="����̨���-2"><a href="#����̨���-2" class="headerlink" title="����̨���"></a>����̨���</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220331012049.png" alt="image-20220331012049606"></p><h2 id="Spring���װ�-JDBCTemplate"><a href="#Spring���װ�-JDBCTemplate" class="headerlink" title="Spring���װ�(JDBCTemplate)"></a>Spring���װ�(JDBCTemplate)</h2><h3 id="��beans-xml��������"><a href="#��beans-xml��������" class="headerlink" title="��beans.xml��������"></a>��beans.xml��������</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--spring����DriverManagerDataSource--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="��ز�����-2"><a href="#��ز�����-2" class="headerlink" title="��ز�����"></a>��ز�����</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fourTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line">    JdbcTemplate jdbcTemplate = ac.getBean(<span class="string">&quot;jdbcTemplate&quot;</span>, JdbcTemplate.class);</span><br><span class="line">    String sql =<span class="string">&quot;select * from user&quot;</span>;</span><br><span class="line">    Map&lt;String, Object&gt; stringObjectMap = jdbcTemplate.queryForMap(sql);</span><br><span class="line">    System.out.println(stringObjectMap);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="����̨���-3"><a href="#����̨���-3" class="headerlink" title="����̨���"></a>����̨���</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220331012811.png" alt="image-20220331012811184"></p><h2 id="Druid�����ӳأ�����jdbc"><a href="#Druid�����ӳأ�����jdbc" class="headerlink" title="Druid�����ӳأ�����jdbc"></a>Druid�����ӳأ�����jdbc</h2><h3 id="��beans-xml��������-1"><a href="#��beans-xml��������-1" class="headerlink" title="��beans.xml��������"></a>��beans.xml��������</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ʹ��Druid���ӳ�--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;druidDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverClassName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="��ز�����-3"><a href="#��ز�����-3" class="headerlink" title="��ز�����"></a>��ز�����</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fiveTest</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line">    DruidDataSource druidDataSource = ac.getBean(<span class="string">&quot;druidDataSource&quot;</span>, DruidDataSource.class);</span><br><span class="line">    DruidPooledConnection connection = druidDataSource.getConnection();</span><br><span class="line">    System.out.println(connection);</span><br><span class="line">    <span class="comment">//�������ݿ�</span></span><br><span class="line">    PreparedStatement ps = connection.prepareStatement(<span class="string">&quot;select * from user&quot;</span>);</span><br><span class="line">    ResultSet rs = ps.executeQuery();</span><br><span class="line">    <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">        Integer id = rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        String name = rs.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        String password = rs.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(id+<span class="string">&quot;--&quot;</span>+name+<span class="string">&quot;--&quot;</span>+password);</span><br><span class="line">    &#125;</span><br><span class="line">    rs.close();</span><br><span class="line">    ps.close();</span><br><span class="line">    connection.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="����̨���-4"><a href="#����̨���-4" class="headerlink" title="����̨���"></a>����̨���</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220331013421.png" alt="image-20220331013421093"></p>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JDBC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>����ע��</title>
      <link href="/2022/03/25/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/"/>
      <url>/2022/03/25/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<h1 id="����ע�루DI��"><a href="#����ע�루DI��" class="headerlink" title="����ע�루DI��"></a>����ע�루DI��</h1><h2 id="setter��ʽ"><a href="#setter��ʽ" class="headerlink" title="setter��ʽ"></a>setter��ʽ</h2><h3 id="ʵ����Ҫ��"><a href="#ʵ����Ҫ��" class="headerlink" title="ʵ����Ҫ��"></a>ʵ����Ҫ��</h3><h4 id="Student1-class"><a href="#Student1-class" class="headerlink" title="Student1.class"></a>Student1.class</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Hobby1 hobby1;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHobby</span><span class="params">(Hobby1 hobby1)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.hobby1 = hobby1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, hobby=&quot;</span> + hobby1 +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="Hobby1-class"><a href="#Hobby1-class" class="headerlink" title="Hobby1.class"></a>Hobby1.class</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hobby1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String sports;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSports</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sports;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSports</span><span class="params">(String sports)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sports = sports;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hobby&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, sports=&#x27;&quot;</span> + sports + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="xml�l�Ҫ��"><a href="#xml�l�Ҫ��" class="headerlink" title="xml�ļ�Ҫ��"></a>xml�ļ�Ҫ��</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;cn.kairong.spring.domain.test1.Student1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;student1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dzx&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;20&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;Hobby&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;h1&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;cn.kairong.spring.domain.test1.Hobby1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;h1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sports&quot;</span> <span class="attr">value</span>=<span class="string">&quot;yundong&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>����ǻ�������/Stringʹ��Value��ֵ</li><li>������Զ������������/��������Ӧ�����ͣ���Ҫע�����ʹ��refע��</li></ul><h3 id="������ʾ����"><a href="#������ʾ����" class="headerlink" title="������ʾ����"></a>������ʾ����</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">AbstractApplicationContext applicationContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;test1.xml&quot;</span>);</span><br><span class="line">    Student1 stu1 = applicationContext.getBean(<span class="string">&quot;student1&quot;</span>, Student1.class);</span><br><span class="line">    System.out.println(stu1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="����̨�����"><a href="#����̨�����" class="headerlink" title="����̨�����"></a>����̨�����</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220325001254.png" alt="image-20220325001253902"></p><h2 id="��������ʽ"><a href="#��������ʽ" class="headerlink" title="��������ʽ"></a>��������ʽ</h2><h3 id="ʵ����Ҫ��-1"><a href="#ʵ����Ҫ��-1" class="headerlink" title="ʵ����Ҫ��"></a>ʵ����Ҫ��</h3><h4 id="Student2-class"><a href="#Student2-class" class="headerlink" title="Student2.class"></a>Student2.class</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Hobby2 hobby2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student2</span><span class="params">(<span class="keyword">int</span> id, String name, <span class="keyword">int</span> age, Hobby2 hobby2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.hobby2 = hobby2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, hobby=&quot;</span> + hobby2 +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Hobby2-class"><a href="#Hobby2-class" class="headerlink" title="Hobby2.class"></a>Hobby2.class</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hobby2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String sports;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Hobby2</span><span class="params">(<span class="keyword">int</span> id, String sports)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.sports = sports;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hobby&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, sports=&#x27;&quot;</span> + sports + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="xml�l�Ҫ��-1"><a href="#xml�l�Ҫ��-1" class="headerlink" title="xml�ļ�Ҫ��"></a>xml�ļ�Ҫ��</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;cn.kairong.spring.domain.test2.Student2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;student2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;201&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;201&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;201&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;hobby2&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;h2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;cn.kairong.spring.domain.test2.Hobby2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;h2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;201&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;sports&quot;</span> <span class="attr">value</span>=<span class="string">&quot;test2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>��bean�������˶��ٸ���������ô����Ҫ��ǰ�������ж�Ӧ���������Ĺ�����</li><li>bean�в�������Ӧ���뵱ǰ�����еĹ������Ĳ���ƥ��.</li><li>�������еĸ���������/String ���͸�ֵ��Ȼʹ�õ���Value,���Զ����Ӧ��������������ʹ��ref.</li><li>��xml�ļ�������������ϵʱ,��beans���õ��Ⱥ�˳��û�й�ϵ.</li><li>ͨ���������ķ�ʽ����ע��,��ô��ʵ������Ҫע���Bean,Ȼ����ʵ��������Bean�Ķ���</li></ul><h3 id="������ʾ����-1"><a href="#������ʾ����-1" class="headerlink" title="������ʾ����"></a>������ʾ����</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">AbstractApplicationContext applicationContext = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;test2.xml&quot;</span>);</span><br><span class="line">Student2 stu2 = applicationContext.getBean(<span class="string">&quot;student2&quot;</span>, Student2.class);</span><br><span class="line">System.out.println(stu2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="����̨�����-1"><a href="#����̨�����-1" class="headerlink" title="����̨�����"></a>����̨�����</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220325002839.png" alt="image-20220325002839710"></p><h2 id="ѭ������"><a href="#ѭ������" class="headerlink" title="ѭ������"></a>ѭ������</h2><p>���ϵA-B-C-A</p><p>�ֱ�ʹ����������ע��</p><p>�ͽ������</p><ul><li><strong>spring֧��setter��ʽ��ѭ����������֧�ֹ�������ʽ��ѭ������.</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql</title>
      <link href="/2022/03/12/mysql/"/>
      <url>/2022/03/12/mysql/</url>
      
        <content type="html"><![CDATA[<h2 id="sql�ص��﷨"><a href="#sql�ص��﷨" class="headerlink" title="sql�ص��﷨"></a>sql�ص��﷨</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312144408.png" alt="image-20220312144408615"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312144439.png" alt="image-20220312144439088"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312144458.png" alt="image-20220312144458541"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312193934.png" alt="image-20220312193934858"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312193956.png" alt="image-20220312193956122"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194013.png" alt="image-20220312194013669"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194030.png" alt="image-20220312194030874"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194102.png" alt="image-20220312194102632"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194150.png" alt="image-20220312194150450"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194211.png" alt="image-20220312194211843"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194234.png" alt="image-20220312194234274"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194253.png" alt="image-20220312194253202"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194322.png" alt="image-20220312194322319"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194336.png" alt="image-20220312194336819"></p><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220312194351.png" alt="image-20220312194351814"></p><h2 id="sql��ϰ������������"><a href="#sql��ϰ������������" class="headerlink" title="sql��ϰ������������"></a>sql��ϰ������������</h2><h3 id="��һ�׶�"><a href="#��һ�׶�" class="headerlink" title="��һ�׶�"></a>��һ�׶�</h3><p>��ѯ����Ա������н((��н + ����) * 12)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,(ifnull(comm,<span class="number">0</span>)<span class="operator">+</span>sal)<span class="operator">*</span><span class="number">12</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p>��ѯ�н����Ա����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ISNULL(COMM),ENAME <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p>��ѯ��˾���ϰ�</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> DEPTNO,MGR <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><p>��ѯ���������ʸ��� 1500 ������Ա����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,sal <span class="keyword">from</span> emp <span class="keyword">WHERE</span> sal<span class="operator">&gt;=</span><span class="number">1500</span>;</span><br></pre></td></tr></table></figure><p>��ѯ���ֽ� SCOTT ��Ա�������µĹ���</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,JOB <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ENAME<span class="operator">=</span> &quot;SCOTT&quot;;</span><br></pre></td></tr></table></figure><p>��ѯ 1981 ����ְ��Ա����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> EMP <span class="keyword">WHERE</span> HIREDATE <span class="keyword">like</span> <span class="string">&#x27;1981-__-__&#x27;</span>;</span><br></pre></td></tr></table></figure><p>��ѯ��нС�� 3W ��Ա��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,(ifnull(comm,<span class="number">0</span>)<span class="operator">+</span>sal)<span class="operator">*</span><span class="number">12</span> <span class="keyword">from</span> emp <span class="keyword">WHERE</span> (ifnull(comm,<span class="number">0</span>)<span class="operator">+</span>sal)<span class="operator">*</span><span class="number">12</span><span class="operator">&lt;=</span><span class="number">30000</span>;</span><br></pre></td></tr></table></figure><p>��ѯ���в���������Ա��Ա����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,JOB <span class="keyword">from</span> emp <span class="keyword">WHERE</span> job <span class="operator">!=</span> &quot;CLERK&quot;;</span><br></pre></td></tr></table></figure><p>��ѯ������ 2000-3000 ֮���Ա����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,sal <span class="keyword">from</span> emp <span class="keyword">WHERE</span> sal <span class="keyword">BETWEEN</span> <span class="number">2000</span> <span class="keyword">and</span> <span class="number">3000</span>;</span><br></pre></td></tr></table></figure><p>��ѯ 1981 ����ְ��Ա��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,HIREDATE <span class="keyword">FROM</span> EMP <span class="keyword">WHERE</span> HIREDATE <span class="keyword">like</span> &quot;1981-__-__&quot;;</span><br></pre></td></tr></table></figure><p>��ѯ����Ϊ 800 �� 1600 �� 3000 ��Ա��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ENAME,sal <span class="keyword">from</span> emp <span class="keyword">WHERE</span> sal <span class="operator">=</span><span class="number">800</span> <span class="keyword">OR</span> sal<span class="operator">=</span> <span class="number">1600</span> <span class="keyword">or</span> sal<span class="operator">=</span> <span class="number">3000</span>;</span><br></pre></td></tr></table></figure><p>��ѯ�����й�Ա�������� A ��ͷ��ȫ����Ա��Ϣ��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">WHERE</span> ENAME <span class="keyword">like</span> &quot;A%&quot;; </span><br></pre></td></tr></table></figure><p>��ѯ����Ա�����ڶ�����ĸ�� M ��ȫ����Ա��Ϣ��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">WHERE</span> ENAME <span class="keyword">like</span> &quot;_M%&quot;;</span><br></pre></td></tr></table></figure><p>��ѯ����Ա��������λ���ϰ�����ĸ A ��ȫ����Ա��Ϣ��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">WHERE</span> ENAME <span class="keyword">like</span> &quot;%A%&quot;;</span><br></pre></td></tr></table></figure><p>��ѯ�������� e ���� a ��Ա������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">WHERE</span> ENAME <span class="keyword">like</span>&quot;%e%&quot; <span class="keyword">or</span> ENAME <span class="keyword">like</span> <span class="string">&#x27;%a%&#x27;</span>; </span><br></pre></td></tr></table></figure><p>��ѯ������ 1500~3000 ֮���ȫ��Ա����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal <span class="keyword">BETWEEN</span> <span class="number">1500</span> <span class="keyword">and</span> <span class="number">3000</span>;</span><br></pre></td></tr></table></figure><p>��ѯ���ʲ��� 2000-3000 ֮���Ա����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal <span class="operator">&lt;</span><span class="number">2000</span> <span class="keyword">or</span> sal <span class="operator">&gt;</span><span class="number">3000</span>;</span><br></pre></td></tr></table></figure><p>��ѯ���ʲ�Ϊ 800 �� 1600 �� 3000 ��Ա��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> sal <span class="operator">!=</span><span class="number">800</span> <span class="keyword">or</span> sal <span class="operator">!=</span><span class="number">1600</span> <span class="keyword">or</span> sal <span class="operator">!=</span><span class="number">3000</span>;</span><br></pre></td></tr></table></figure><p>��ѯ��ְλ�ǰ���Ա (CLERK) ������������Ա (SALESMAN) ��ȫ����Ϣ���ҹ����� 1000 ����</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> SAL<span class="operator">&gt;</span><span class="number">1000</span> <span class="keyword">and</span> job <span class="operator">=</span> <span class="string">&#x27;CLERK&#x27;</span> <span class="keyword">OR</span> JOB <span class="operator">=</span> <span class="string">&#x27;SALESMAN&#x27;</span> <span class="keyword">AND</span> SAL<span class="operator">&gt;</span><span class="number">1000</span>;</span><br></pre></td></tr></table></figure><h3 id="�ڶ��׶�"><a href="#�ڶ��׶�" class="headerlink" title="�ڶ��׶�"></a>�ڶ��׶�</h3><p>��ѯԱ����ţ�Ա�����ƣ�Ա���������ŵı�ź�����<br>#��ʽ������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.empno , e.ename, d.deptno,d.dname <span class="keyword">from</span> emp <span class="keyword">as</span> e, dept <span class="keyword">as</span> d <span class="keyword">where</span> e.deptno <span class="operator">=</span> d.deptno</span><br></pre></td></tr></table></figure><p>#��ʽ������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.empno,e.ename,d.deptno,d.dname <span class="keyword">from</span> emp <span class="keyword">as</span> e <span class="keyword">inner</span> <span class="keyword">join</span> dept <span class="keyword">as</span> d <span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno</span><br></pre></td></tr></table></figure><p>��ѯԱ�������������ʣ����ڲ��ŵ����ƣ��Լ����ʵĵȼ�<br>#��ʽ������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.sal,d.dname,s.grade <span class="keyword">from</span> emp <span class="keyword">as</span> e,dept <span class="keyword">as</span> d,salgrade <span class="keyword">as</span> s <span class="keyword">where</span> e.deptno<span class="operator">=</span>d.deptno <span class="keyword">and</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal</span><br></pre></td></tr></table></figure><p>#��ʽ������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.sal,d.dname,s.grade <span class="keyword">from</span> emp <span class="keyword">as</span> e <span class="keyword">inner</span> <span class="keyword">join</span> dept <span class="keyword">as</span> d <span class="keyword">on</span> e.deptno<span class="operator">=</span>d.deptno <span class="keyword">inner</span> <span class="keyword">join</span> salgrade <span class="keyword">as</span> s <span class="keyword">on</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal </span><br></pre></td></tr></table></figure><p>#��������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> emp.EMPNO, emp.ENAME, emp.SAL, dept.DNAME <span class="keyword">FROM</span> emp <span class="keyword">left</span> <span class="keyword">JOIN</span> dept <span class="keyword">ON</span> emp.DEPTNO <span class="operator">=</span> dept.DEPTNO</span><br></pre></td></tr></table></figure><p>#��������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> emp.EMPNO, emp.ENAME, emp.SAL, dept.DNAME <span class="keyword">FROM</span> emp <span class="keyword">right</span> <span class="keyword">JOIN</span> dept <span class="keyword">ON</span> emp.DEPTNO <span class="operator">=</span> dept.DEPTNO</span><br></pre></td></tr></table></figure><p>��ѯ����Ա��ÿ���µ�ƽ�����ʼ��ܹ���</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">as</span> avgSal,<span class="built_in">sum</span>(sal) <span class="keyword">as</span> sumSal <span class="keyword">from</span> emp</span><br></pre></td></tr></table></figure><p>��ѯ��н�� 2000 ���ϵ�Ա��������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="number">2000</span></span><br></pre></td></tr></table></figure><p>��ѯԱ����߹��ʺ���͹��ʲ��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal)<span class="operator">-</span><span class="built_in">min</span>(sal) <span class="keyword">from</span> emp</span><br></pre></td></tr></table></figure><p>����ְλ���飬���ÿ��ְλ����ߺ���͹���</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal),<span class="built_in">min</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job</span><br></pre></td></tr></table></figure><p>��ѯ��ÿһ������Ա����ƽ������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno</span><br></pre></td></tr></table></figure><p>��ѯ�������ź͸�λ��ƽ������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal),deptno,job <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno,job</span><br></pre></td></tr></table></figure><p>��ѯ����ƽ�����ʸ��� 2000 �Ĳ��ż���ƽ������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno <span class="keyword">having</span> <span class="built_in">avg</span>(sal)<span class="operator">&gt;</span><span class="number">2000</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">as</span> avgSal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno <span class="keyword">having</span> avgSal<span class="operator">&gt;</span><span class="number">2000</span></span><br></pre></td></tr></table></figure><p>��ѯ�� 80, 81, 82 �������˾������</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">year</span>(hiredate) <span class="keyword">as</span> y, <span class="built_in">count</span>(empno) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> y <span class="keyword">having</span> y <span class="keyword">between</span> <span class="string">&#x27;1980&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1982&#x27;</span></span><br></pre></td></tr></table></figure><p>��ѯ����������Ա��Ա����ƽ�����ʣ�������͹��ʲ��ܵ��� 1300</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> mgr, <span class="built_in">avg</span>(sal),<span class="built_in">min</span>(sal) <span class="keyword">as</span> minSal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> mgr <span class="keyword">having</span> minsal<span class="operator">&gt;</span><span class="number">1300</span></span><br></pre></td></tr></table></figure><p>��ѯ����ƽ�����ʵ�Ա��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp)</span><br></pre></td></tr></table></figure><p>��ѯ�����ʱ� MARTIN ��Ҫ�ߵ�ȫ����Ա��Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;martin&#x27;</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;martin&#x27;</span>)</span><br></pre></td></tr></table></figure><p>��ѯƽ�����ʸ��ڹ�˾ƽ�����ʵĲ�����Ϣ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">as</span> avgSal,d.deptno,d.dname <span class="keyword">from</span> emp <span class="keyword">as</span> e <span class="keyword">inner</span> <span class="keyword">join</span> dept <span class="keyword">as</span> d <span class="keyword">on</span> e.deptno<span class="operator">=</span>d.deptno  <span class="keyword">group</span> <span class="keyword">by</span> deptno <span class="keyword">having</span> avgSal<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp)</span><br></pre></td></tr></table></figure><p>��ѯ���ʵ��ڲ��ž�����ְλ�� MANAGER����Ա����Ϣ��</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job <span class="operator">=</span><span class="string">&#x27;MA</span></span><br></pre></td></tr></table></figure><h2 id="����"><a href="#����" class="headerlink" title="����"></a>����</h2><p><a href="https://gitee.com/kairong6/blog/blob/master/02_MySQL.pdf">sql�﷨�ļ�</a></p><p><a href="https://gitee.com/kairong6/blog/blob/master/mysqlplus.sql">sql�����ļ�</a></p>]]></content>
      
      
      <categories>
          
          <category> mysql���� </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java03</title>
      <link href="/2022/01/22/java03/"/>
      <url>/2022/01/22/java03/</url>
      
        <content type="html"><![CDATA[<h2 id="Scanner���ܼ�������"><a href="#Scanner���ܼ�������" class="headerlink" title="Scanner���ܼ�������"></a>Scanner���ܼ�������</h2><h3 id="if���"><a href="#if���" class="headerlink" title="if���"></a>if���</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ckr.base.com.ckr.base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//����һ��ɨ�������󣬽��ܼ�������</span></span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;ʹ��next��ʽ���ܣ�&quot;</span>);</span><br><span class="line">        <span class="comment">//�ж��û���û�������ַ���</span></span><br><span class="line">        <span class="keyword">if</span> (scanner.hasNext())&#123;</span><br><span class="line">            <span class="comment">//ʹ��next��ʽ����</span></span><br><span class="line">            String str = scanner.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;�������Ϊ��&quot;</span>+str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//��������IO�����꼴��</span></span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="whileѭ��"><a href="#whileѭ��" class="headerlink" title="whileѭ��"></a>whileѭ��</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ckr.base.com.ckr.base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo5</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (scanner.hasNextDouble()) &#123;</span><br><span class="line">            <span class="keyword">double</span> x = scanner.nextDouble();</span><br><span class="line">            m = m + <span class="number">1</span>; <span class="comment">//m++</span></span><br><span class="line">            sum = sum + x;</span><br><span class="line">            System.out.println(<span class="string">&quot;�������˵�&quot;</span> + m + <span class="string">&quot;�����ݣ�Ȼ��ǰ���sum:&quot;</span> + sum);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(m + <span class="string">&quot;�����ĺ�Ϊ&quot;</span> + sum);</span><br><span class="line">        System.out.println(m + <span class="string">&quot;������ƽ��ֵΪ&quot;</span> + (sum / m));</span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java���� </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java02</title>
      <link href="/2022/01/16/java02/"/>
      <url>/2022/01/16/java02/</url>
      
        <content type="html"><![CDATA[<h2 id="oת������ת��"><a href="#oת������ת��" class="headerlink" title="ǿת������ת��"></a>ǿת������ת��</h2><h3 id="���͵c�"><a href="#���͵c�" class="headerlink" title="���͵ȼ�"></a>���͵ȼ�</h3><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220116200414.png" alt="image-20220116200413981"></p><h3 id="����ʾ��"><a href="#����ʾ��" class="headerlink" title="����ʾ��"></a>����ʾ��</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">128</span>;</span><br><span class="line">        <span class="keyword">byte</span> b = (<span class="keyword">byte</span>)i;<span class="comment">//�ڴ����     ��--��    ǿ��ת��</span></span><br><span class="line">        <span class="keyword">double</span> d = i;   <span class="comment">//��--��  �Զ�ת��</span></span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(b);</span><br><span class="line">        System.out.println(d);</span><br><span class="line">        <span class="comment">//ת����Ҫע�⾫������</span></span><br><span class="line">        System.out.println(<span class="string">&quot;=========================&quot;</span>);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)<span class="number">27.23</span>);</span><br><span class="line">        System.out.println((<span class="keyword">int</span>)-<span class="number">78.23F</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;=========================&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">int</span> q = c+<span class="number">1</span>;</span><br><span class="line">        System.out.println(q);</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="���ݼ���ת������"><a href="#���ݼ���ת������" class="headerlink" title="���ݼ���ת������"></a>���ݼ���ת������</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//��������ʱ��������Դ�ϴ�ʱ</span></span><br><span class="line">        <span class="keyword">int</span> mony = <span class="number">10_0000_0000</span>;<span class="comment">//jdk7����ɫ</span></span><br><span class="line">        <span class="keyword">int</span> year = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> total2 = mony*year;</span><br><span class="line">        <span class="keyword">long</span> total = mony*year;</span><br><span class="line">        <span class="keyword">long</span> total1 = mony*(<span class="keyword">long</span>)year;</span><br><span class="line">        System.out.println(total);</span><br><span class="line">        System.out.println(total1);</span><br><span class="line">        System.out.println(total2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="��������"><a href="#��������" class="headerlink" title="��������"></a>��������</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220116200619.png" alt="image-20220116200619509"></p><h2 id="�߼������"><a href="#�߼������" class="headerlink" title="�߼������"></a>�߼������</h2><p><img src="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220116200655.png" alt="image-20220116200655899"></p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java���� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java01</title>
      <link href="/2022/01/15/java01/"/>
      <url>/2022/01/15/java01/</url>
      
        <content type="html"><![CDATA[<h2 id="һ���˴���������"><a href="#һ���˴���������" class="headerlink" title="һ���˴���������"></a>һ���˴���������</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hello</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        �˴���������</span></span><br><span class="line"><span class="comment">//        ����</span></span><br><span class="line">        <span class="keyword">int</span> num1 = <span class="number">10</span>; <span class="comment">//���</span></span><br><span class="line">        <span class="keyword">byte</span> num2 = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">short</span> num3 = <span class="number">30</span>;</span><br><span class="line">        <span class="keyword">long</span> num4 = <span class="number">30L</span>; <span class="comment">//Long������������Ҫ��һ��L</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        С����������</span></span><br><span class="line">        <span class="keyword">float</span> num5 = <span class="number">50.1F</span>; <span class="comment">//float������������Ҫ��һ��F</span></span><br><span class="line">        <span class="keyword">double</span> num6 = <span class="number">3.141592653589793238462643</span>;</span><br><span class="line"><span class="comment">//        �ַ�</span></span><br><span class="line">        <span class="keyword">char</span> name = <span class="string">&#x27;��&#x27;</span>;</span><br><span class="line"><span class="comment">//        �ַ�����String���ǹؼ��֣���</span></span><br><span class="line">        String namea = <span class="string">&quot;�й�&quot;</span>;</span><br><span class="line"><span class="comment">//        ����ֵ���Ƿ�</span></span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line"><span class="comment">//        boolean flag = false;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="����������չ"><a href="#����������չ" class="headerlink" title="����������չ"></a>����������չ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">demo1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// ������չ:����  �����ƣ�0b  �˽��ƣ�0 ʮ���ƣ�ʮ�����ƣ�0x</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">10</span>;<span class="comment">//ʮ����</span></span><br><span class="line">        <span class="keyword">int</span> i1 = <span class="number">0b10</span>;<span class="comment">//������</span></span><br><span class="line">        <span class="keyword">int</span> i2 = <span class="number">010</span>;<span class="comment">//�˽���</span></span><br><span class="line">        <span class="keyword">int</span> i3 = <span class="number">0x10</span>;<span class="comment">//ʮ������    0~9 A~F 16</span></span><br><span class="line">        System.out.println(i);</span><br><span class="line">        System.out.println(i1);</span><br><span class="line">        System.out.println(i2);</span><br><span class="line">        System.out.println(i3);</span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line">        <span class="comment">//================================================</span></span><br><span class="line">        <span class="comment">//��������չ�� ����ҵ�����ʵ�֣� Ǯ</span></span><br><span class="line">        <span class="comment">//BigDecimal    ��ѧ������</span></span><br><span class="line">        <span class="comment">//================================================</span></span><br><span class="line">        <span class="comment">//float     ����  ��ɢ  �������    ��Լ  �ӽ���������</span></span><br><span class="line">        <span class="comment">//double</span></span><br><span class="line">        <span class="comment">//�����ȫ����ʹ�ø������Ƚ�</span></span><br><span class="line">        <span class="comment">//�����ȫ����ʹ�ø������Ƚ�</span></span><br><span class="line">        <span class="comment">//�����ȫ����ʹ�ø������Ƚ�</span></span><br><span class="line">        <span class="keyword">float</span> f = <span class="number">0.1f</span>;<span class="comment">//0.1</span></span><br><span class="line">        <span class="keyword">double</span> d = <span class="number">1.0</span>/<span class="number">10</span>;<span class="comment">//0.1</span></span><br><span class="line"></span><br><span class="line">        System.out.println(f==d);<span class="comment">//false</span></span><br><span class="line">        System.out.println(f);</span><br><span class="line">        System.out.println(d);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">float</span> d1 = <span class="number">2123132345563f</span>;</span><br><span class="line">        <span class="keyword">float</span> d2 = d1+<span class="number">1</span>;</span><br><span class="line">        System.out.println(d1==d2);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//================================================</span></span><br><span class="line">        <span class="comment">//�ַ���չ��</span></span><br><span class="line">        <span class="comment">//================================================</span></span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span> c1 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">char</span> c2 = <span class="string">&#x27;��&#x27;</span>;</span><br><span class="line">        System.out.println(c1);</span><br><span class="line"></span><br><span class="line">        System.out.println((<span class="keyword">int</span>) c1);<span class="comment">//ǿ��ת��</span></span><br><span class="line"></span><br><span class="line">        System.out.println(c2);</span><br><span class="line"></span><br><span class="line">        System.out.println((<span class="keyword">int</span>) c2);<span class="comment">//ǿ��ת��</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//�����ַ��ı��ʻ�������</span></span><br><span class="line">        <span class="comment">//���� Unicode ������ 97 = a �� = 31243��  2�ֽ� 0 ~ 65536   Excel  2��16 = 65536</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//U0000 UFFFF</span></span><br><span class="line">        <span class="keyword">char</span> c3 = <span class="string">&#x27;\u0061&#x27;</span>;</span><br><span class="line">        System.out.println(c3);<span class="comment">//a</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//================================================</span></span><br><span class="line">        <span class="comment">//ת���ַ�</span></span><br><span class="line">        <span class="comment">// \t �Ʊ���</span></span><br><span class="line">        <span class="comment">// \n ���з�</span></span><br><span class="line">        <span class="comment">// .....</span></span><br><span class="line">        <span class="comment">//================================================</span></span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;hello\tworld&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;hello\nworld&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line">        String sa = <span class="keyword">new</span> String(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">        String sb = <span class="keyword">new</span> String(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">        System.out.println(sa==sb);<span class="comment">//false</span></span><br><span class="line">        String sc = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        String sd = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">        System.out.println(sc==sd);<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//���� ���ڴ����</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//����ֵ��չ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="keyword">true</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;111&quot;</span>);</span><br><span class="line">        &#125;<span class="comment">//����</span></span><br><span class="line">        <span class="keyword">if</span> (flag)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;222&quot;</span>);</span><br><span class="line">        &#125;<span class="comment">//����   less is more! �����׶�</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java���� </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>����嵥</title>
      <link href="/2022/01/07/%E5%BF%AB%E9%80%92%E6%B8%85%E5%8D%95/"/>
      <url>/2022/01/07/%E5%BF%AB%E9%80%92%E6%B8%85%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<h2 id="˳������"><a href="#˳������" class="headerlink" title="˳������"></a>˳������</h2><ul><li><h3 id="ɰ���٣���ȡ������"><a href="#ɰ���٣���ȡ������" class="headerlink" title="ɰ���٣���ȡ������"></a>ɰ���٣�<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107173837.png">��ȡ����</a>��</h3><p>���̿��٣�18791603671��</p></li></ul><h2 id="�ϴ���"><a href="#�ϴ���" class="headerlink" title="�ϴ���"></a>�ϴ���</h2><ul><li><h3 id="�Ϲ��ӣ�06043��"><a href="#�Ϲ��ӣ�06043��" class="headerlink" title="�Ϲ��ӣ�06043��"></a>�Ϲ��ӣ�<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107171802.jpg">06043</a>��</h3></li></ul><ul><li><h3 id="�����ӣ�06043��"><a href="#�����ӣ�06043��" class="headerlink" title="�����ӣ�06043��"></a>�����ӣ�<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107173645.png">06043</a>��</h3></li><li><h3 id="�·��轴��04019��"><a href="#�·��轴��04019��" class="headerlink" title="�·��轴��04019��"></a>�·��轴��<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107174120.png">04019</a>��</h3></li><li><h3 id="������05068��"><a href="#������05068��" class="headerlink" title="������05068��"></a>������<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107174254.png">05068</a>��</h3></li><li><h3 id="�Ĳ�ƻ����06024��"><a href="#�Ĳ�ƻ����06024��" class="headerlink" title="�Ĳ�ƻ����06024��"></a>�Ĳ�ƻ����<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107175129.png">06024</a>��</h3><p>�����Ĳƣ�13892690577��</p></li></ul><h2 id="��ͨ���"><a href="#��ͨ���" class="headerlink" title="��ͨ���"></a>��ͨ���</h2><ul><li><h3 id="���ף�1-03-23��"><a href="#���ף�1-03-23��" class="headerlink" title="���ף�1-03-23��"></a>���ף�<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107174437.png">1-03-23</a>��</h3></li><li><h3 id="С��ƻ����1-06-35��"><a href="#С��ƻ����1-06-35��" class="headerlink" title="С��ƻ����1-06-35��"></a>С��ƻ����<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107174652.png">1-06-35</a>��</h3></li><li><h3 id="���L�����u����"><a href="#���L�����u����" class="headerlink" title="���Ĺ�����û����"></a><del>���Ĺ���<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107175715.png">��û��</a>��</del></h3></li></ul><h2 id="Բͨ�ٵ�"><a href="#Բͨ�ٵ�" class="headerlink" title="Բͨ�ٵ�"></a>Բͨ�ٵ�</h2><ul><li><h3 id="�����Ӻ�����ӣ���u����"><a href="#�����Ӻ�����ӣ���u����" class="headerlink" title="�����Ӻ�����ӣ���û����"></a><del>�����Ӻ�����ӣ�<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107180131.png">��û��</a>��</del></h3></li><li><h3 id="����ͷ����u����"><a href="#����ͷ����u����" class="headerlink" title="����ͷ����û����"></a><del>����ͷ��<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107180839.png">��û��</a>��</del></h3></li></ul><h2 id="��ͨ���-1"><a href="#��ͨ���-1" class="headerlink" title="��ͨ���"></a>��ͨ���</h2><ul><li><h3 id="ɰ���٣���u����"><a href="#ɰ���٣���u����" class="headerlink" title="ɰ���٣���û����"></a><del>ɰ���٣�<a href="https://ckr666.oss-cn-chengdu.aliyuncs.com/img/20220107180702.png">��û��</a>��</del></h3></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> ������ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2022/01/06/ckrTwo/"/>
      <url>/2022/01/06/ckrTwo/</url>
      
        <content type="html"><![CDATA[<p>���ˡ�</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/01/06/hello-world/"/>
      <url>/2022/01/06/hello-world/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="bc4a672b15a45819394bad890abfb03a36870fa0dfac178a4a72d49efca3bb0e">165d50f05814027fb7fe5e4ae8a088d86d0c1aba6d70b1044ca65dff1bf2218cbd3b930c090fc7b66d2adb6659e3ccf95194d3e32dc083e2525c89d0052fb19de71b1620ddb2e7b355e7ee5fd05404a69bda6c22a0217bd4d3d2594b3445ccdbdd7a6ee3d6676e7dd78202d7330cc589a3a37bb9a1c2ed57aa6a412412549c1174bc9e19ba7c2bde4b3a3741eefc5cc68e95b70c0a00ccc5a372d53193264017b841db02f3cb1075c920ab398c5211cb054c74f10325726f1c16e8fc83763e404b1b113d96993960687f92c8ac1d10f3fca18876cbc0fa7fb340506e08077070a07666c404b929089c6eea3c2be575036244cce40472eedda9d368ebf199068ed1801edf81f2ef3960be94fcaa3faefea541a6969a1dd75f0b309280079554b0500ceb8bddb9fe2e3702ef1887eef37b55501f49d8646c689f5191de7845e05f726a20f2bf742c0903616ba6512cb9a2dab598fa33f56efe0656a0ef415ab29d4fdce66f2b4b8b2d04fdd588f80ab2a6f1be05eebd022026147c53a13fe08dedf0e1ebf7a5a6d0fcb3be4fca14de3651dc4923cea3f4bbc6eb712f2033443f4236d2af85c634357e100c96baf4ec34cd276ffa6b4174d431d7e7eddc8a20ec0c7bc76eadf29a4e058c893d9a1bc1f7f106e7f4139bd4c648a411bad54f7ffa0692e3c34f0a23ed09ee9e4f8b1736c15ed54498192ef2b72112f78e9ec7d1f0eaaf4720f5b79c1c64eec1b712f2234725553d52a521c305d9483bc692f0d519b70fb11fbd82c7b36824e94d6a6912901ca5e3cac2bb883a7dcbd48781ac2b9812fdbe67557c43696708dd1fc07dcc13fa6e6754baed7845d3a09361c274a0f02e807ecc9587c11b39421a8e2fc3617f517afc211274a78191f29111729609fcfa78e0dbea7fa095f0a396d637c69c2d8fa1a8eb9fb9937869722a683d4e2e242f9680537e2b80f2ab56c4102849eb5e9eacfe5e4d94d7d3429822cbc69bceb8b67481ca0088e4f8d4c56987ee1a0cfd4bd2c769c6b771d84b9b948bbb5d0b0e6eaa6f6ecc32406a7383a9668a889a3e53c34cb819c2bb5645e64e3d470355f587f2450a2cf55502b79998e3b127aad9690bb78e5700f22e181faa3119470c250e203b528a04ea4c5e4fc0f278a43f98bf673c6d703f572493deb1c8f38f46443563c9440dff41e6a2e292653394604fd8b16ece94b053e927aed728eb48352994ddd62ff5be5e0771494e444c86e5e8f458ad3191e057ffe186f8f013b5510921893cc1658a7fbacda2008e097707f06422587047b9165563161d37d39de0f21303a8a65b9d0199d4263c1a4e5f08e9c0ecadf252e15d99d24140fee29191b53490578795ebf7331c6331ae2d9c7ababfec405f49aee558a2939185711f3ddf5bba71a577cd15e86f54ee8aef92b77e723f980f1bc414c0ae35dc6c09fcefa22c75d291bca802fc65fe770654bef28afc2be430fd4fea5d9f0d2b36c37e31ffd5b94b38c2a71b60817ef3020708e523b10935c590e22c76a26e807fe4ae6b330449f56b120da825afa48c243ea2130f8460a58cdce3fedb426e73a2ba94966742d80133566df9b8549f6bc3b8de1d0a60f755368051b4037136184acfa0c3b09da236aa9922cf994e993d74e158fd07aa1425dc80299d5defa0bdc9af39d524e1193d879dc40d38b7fbd8e0239ffc3d3b69f2c6c91e96b71a20ddfed5c8b26bed693d2f4e98fc2ae2bccdaa54c4f01efaf7dc8adedce91832eee6f444d8e98ff39986a3cda7682b6fa377ca8e0c2d95087f427695a2f829bc96139e3aa0edf0a5c609e2362c36b689035fc2c137c7b4f93c3d5a615156cf0ca82e6bbaff82aea7676268fc674bb7bfef33f1d92f9b04b22b981702b6c9908d1065ba143885038f2acd9d9db63b46beb2ed4f8864f1b87eec0cf371a6cda2d6706f16dd12e48a784f760875b2a3182461add9e82d426ccb94074fdd2fec50eaee678959da0dff6c078bfa2beb42797aa3cd779bcceaac812e1aa9263589d2e5c5673daacd30cd9c5c26ef41861d7eb1d252a32ad314bfe2578627cf3fbf856cac16b3affcdbe628595f3d28f8cb52d904a64eb207cd28cb7120d7e17d5120024eb093aa21aa5000e5089c7b94aa8ac60fb09ef663fbede1cc33638c203c9f9ff3624fc444b847db7f63a117a362b607bbd463dac5c3932c6dccabd2fa4fc5a85745c014679d122d2c929b46cc0953bfec99a88c19106c791098630a54013e2054751dd602acceb69a6f73b3ec3adc6c635d283866166737568ff60d59bdb08266e6c16d65df534690d655b06009a93a29ce31d9ea6a318ff851bf123131b7faccf3e299a7ce98dbe59fdaf01eb005bb92fc80b8a8b638a53bbbc96d0372e09e87673ad5abaae588b04a51c7e568529a064204e208387fecebc577649675cb8e54f727939dd97e227bd2634624f00679dc591e82352cf08e5fac0fa22e93e7ac84c3092e555ad28f52cc92dfe83894d93db2d9e1f0f84bc7aeca559ab93a790d834ad25a6a003baafb12b000823b6b934805a0965db88ce06b6d8ff4367a787871f6b0299d02bd97de13e0d5c7defa28ed48357e8c8d194110772aa4f883e8a1ae8966cda353e8f60fbe5aa52d7a8b0f385d4953a2bdd3de7f29b70d4f111cdabd2c404c1a2d9335cd54e2870ea1e177ed965007cf51f0816906df1f9a61218320d5b5c99f3bdbbe5aa4824f6fd82c2cd1f128a135019046f23e2ec095e23ac1a6f964a7542d64cd6e5b4f1d8e85252e7fdec4b105860d4ed7f9125df18c2f91a632d493cfaca1b6238d50200b2ce3d207033e51be56c7a7d8c4e018b9e36641bb09406504691d05cd0e156faf8066a8579e75ea3e6a832509fff8ece45ec5a5a1e12ca91efaf4d69410213bc0dce06d68842802ee497e4e88256104ed732e44a63b3d36f5a82f491a2d0e8d0f7d719ad7c6b1e6b28cc83178c9ebbfb4b5607c25cc8e509c1a4f293966e846ddf33231ff11fb7d876e1cfbd5b22d9b7be6a48a44c2e959a93fa625c769475fba86d8b338d84262ef7f61f7e7fb2e446b2031003859db61fdcae19db3c9d141a3d4d322b5e565a6c03d768b153b010b22b53d6ece76b908ed6dd6df6464e7dc08da7613ddd1c41aa517c608</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">�������룬�鿴����</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>day01</title>
      <link href="/2022/01/03/day01-1/"/>
      <url>/2022/01/03/day01-1/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="ffe94ed73fa6c36bf2731458cdc79d770616037bbaba25be54de4b256e2529fa">4630436162ade97ba2718b7d0c4b3b63cb3a3f659c5ca08b4bca0f584592818666f09059ccd134de2adfc44db315e98963e9ff6f3cac7352ecd2f1b3ba570336b72a849995e3ac4e2c91852fddeec535556ad237b672361596a9fa26cd7bad6c7a6efbc44909b022c617fd55578f26c24ef0af8795b120054993c8212e3a52455c6a09a2dcb25438c0e12b6cc699a351d028e49b219cd7ed1090554bba9264c39bd41afc083a102970114a7da2ddced0f342ff6e9844fcfeec47c135bd896ac393c0918b166c32b530a7e8e2c886441e1ff7b8518b1fe9e8ad4c989ffb3335884fa8fca30e0f940fa9ade782c13fb0dd7629252dcdffceb9cf75c6701902843591ef56cb6fef7309e1a780953172b0d089501d0342e14702f422b5f7197ffad83106b6f869d50387a5649adcdd5465a1c938d507067dbb4a487aba0a21bd628deed4eb667a327d8bf5433bdd0d7ad675da66a0f359ddc4e80a0a4518493517dda9d108465e5687f1d57f4a21286a5b9c577f0410bf26d8734f765810374694eb523177d1ac0c72fba45af0db08ea13a8fc996f402a3152b81371c2e7f42625d51024e5c2a92acf37e335668261b4749b9fa396191352e893d69588c3d2ff6cd6b625b751903da0f0097d57d88d1d47a105c8b14621cebe13ebfb6dfb8ff1528e7f0457e543646d94354125fd72ea3cc1f22528cac1866e3dd246ce2d31e4fb54a39c1d354f1f6995f50dc3230b72e3627ff9ed494222c1272659cac1d83cba9d59d2fe8b17542d34b2b2961b8ad4c152da7f592166b07b5e96bc1421ab7486317ae2bde05879ae0776df4d4556a4b149cada561254fa1dcd0e691e09293dc4557771680a4ef6e04757fdb6f4aa7dd8380367e8c28756e75aa5a4917d66f3fcb526dc167e30c9911c8250d7cb01ba4f8beed82e539fe9533141120c1b5083d5f38aaa27d22d844ffdcc67a04a7a79a6dc62cf83f99b463be0ba4f0ae9c677a0ea1be192949476c31cc39edc959aa78e1d5436bc3106e8427fd7454e27dbc2badb94bc14708c43227a121906e04b3a1e48cfb430b132feb9023710fc2bec997875f68b7957855bc3542a4c9ada71d7ca75a6c2a1aa2d9f41f6f308b33a9c25f0bbe36b5fe58ab63af8a496f6c0ba9535d9f7eb5978f9948a2267628b98d3f768721e3d24b06c29b53a2944f7b46821a2576361b24afda0356592d9066924b4b6318bdd3dbdb335325140ea5aa6a4a5041aed01b2b6bfa36b53258cb14fe53a5863693db793496233f085f4a905d5f77108ef6e3cf168ef759af0ec3a5ee2d78d83212eae626b9f8e31463e7a9551689a667bf4f73e78e49335ff26a4ba8b4731dba96a8ae5da16c159c5ffc0575713581840fec502e40e1a4e018789993f5c98d0fa704be2fc0506a24653bdd70f99384951cb92139160c2c733b48480df6c2b8f5bb06456f5535dc30c46be9691c5382c50db7578041ff6f33d76bbc6b91a78504146ff5db0599522365a64b778e50b545619bae7dc3ec71b2cc24b3a7f2107ed7cf7b1b9e8cf260eb31d22f9ca5f37a8e9a124080623d066a29b6a776bced2c708f14eb6dfd6281b52c2dbe0f30193a42c0ce5792f8958fc2d04e3ce81c2088143cc7deb69866fa996c063c9b41a16fa69e6089cd17da5900223e02c73a03516cae5bdc13f6d23e32e1590f525bb71cbd24d2f43e3b537d8235e3a62af1cbe0c64bbbd19a48e5dc87c6c07f777d76c99f5cde822290521013c0c5e1c720ae2a27d517a8d6109327cd6e5642ed4bd8a7db2b6c7b1faa73a0e69ddacb484868ee9e6db7676b5352ff13736a662cd63704eda269e678e2fa220161c789617a7dd984df0eb87c99da5eb67947510af2f5970265128737c9c7fc7a16c81f1e85555c919f0be01f4aaa8572f37a7f943006015c75c26f8e4eea095bcd2a2b6e38695eaee6e84e5685896867259b5305b063ab7eff06c8ad0b782cb92f788019755c2029262c1e37e6a3d4f7ee3f7d60f244b8abdd96590e176c3c15cd246c24298d03f930d016660ed9a46973a82ff613074648851c47d1e180fc6d1e43d5938cc6b7955d7bbaf0de6a453105f3fa278ff41e6fa7fc7d0b6b27eaadf9b4d64ac2a68fa0117e5612e9ef949616f9326e9f6597fc620ed649011526073ea0ac781499cdb0df5244a27b962572008e442a22517fdd91892570bf688ced0ebb6b38cb22ef2fd7feec28349281b966f638d9de78af46156f1afda4cea644e0974cb4fd6fd2d6285482f122923ceede353847d9af163e1130c593b4ada3386f05a065b32e4518e565a0ab2ffb8d8caf0217f05bd17c4cd72a5f9bd1a4d7490cdccd0b453c4940d276beed1850e4cd658c774f2348840b7e3097b4466513edab5abb9d2777f6360189a0370974b401ca654f5c6278438a3f93d132d5bf61be5c762ca5d1dd715289244a36a4a71636a8a02d05f70942c1653a9159f584e8bdda51672683079d2afdefa8b0df77f69fba0e51c21e8429ce1ee1c59c2c085a25c04508bc1028105173535297236c86af454c47f7d3a301b751658fdf628747cca5e86469403516d8110d514e0ac51eb2451bd468dcc73dc6b2b22550a3d538bdfecec07b647dcc46c63fb6703b1b83ba1a26da48dcb00fc90df87dfb88a3962ba3c46681cf958c423bc8b1e9437f273820f86e1309b76e601f0f1ae05df9be34df68d31e33f7492f64e82cf0746dfd9ad60dc6c8d4abb961a83f0d7ffb5b195e7ba719eb60213a5e520bb1e00693b437a809167c02c5b2cf34c925d23a0a0a05d11184804c6323cded6df86389e3d9d94660933ee075a85624e6baa0429c8d2b8264b0c94b19d9c35266d905908f8f03824fbd7966161abea18abcc9d7aa8e1a54e60b787b59f43b1c1a8f5613822c162168cef55c43c002bea951aa3e608986197951203b303d27550b312a8362e94d57d7d0b27b90ddfa194f717aa27e44135a9060d8b067a20c40a186a2dc9b52d3c4894a600da80e81b42c8fef8678083f2c9079b4afb11481b61b795cc3ddb5a99badcb7d0d52d4a9b846880e9d26d813152e64deb93f5aa53d54c907a5ba5658fb757b563098dd16f9bf0eb6eb00ce154a8f6b38c911925b562ed70bd9991553a1352d6560737b713ae49987b3b07baaab6863f9c04e429fc73fc14d3520c7a021e143501b31905d0357b1321f51aeec9730b4f30b6efb48748c12eb2dd17b68adfa292556ecab9e436895f473760d03fad1abab9eba6bf8bede792712b7a32e2ba0a26959a31b1f98f1f859898fc579078bd10c43190594a893c161cd92844c806712938e0be53fae382ded520bd9c0c7621fdc7c4d9ec69bf2cf2e37d002f9e237c4253034ef345ae1a136dc52c455b0d2c175f3ec7e8e1c70b26770a675488808eb80634616df40b4d517c8f252b6fdbd31b2e60b1e5068817817b166d6141ac459d16fa760750743ff629b8504b8661b0802b7b7b317595d8d8849c3663fef90023c882fb1a15fa524accdc1657c1f11c567ef1622be65e557a80bd3c30502bb3c84b73825eb0c17480bee9e7a7fd30bc57e70f2c854c5211884962189421ac0c230564a22fa833314b1490b8b3117ebb2b51cae2c357065c5b14ce90e7d7a000694b4b90f5dcd4969db46741d4470b5ea196767ef6dd6f0a0ab3e2de4a59cae59ee1285c3d7ecbe01ad288a77086e189a171795aee2551b25353e47a27a96b5c46fe3ea8f79ea303b9c2f668346b7ecbcae8b79f468cbfe8ba721c5103e68b05106bf4cfbc9412af8cbe45ac0351391d81ee6bb4d9fbed5e223174bea375770baa49dd537ba1c38e003b57110dbc63219a1f72af0bea137a845d42b5994c18fb64b36781464846ec78b0554809fca89fb2b9e6ea8de7f542c4d37f4e170725e96eeaca85a3a02666764ad798be4f807948a33edf73c313f1560324be933ce8f26695b9349180bd7c96410af9d714a15585dbb3f8a7e8e0147cf93015eeb69eae4d6efb2b3243df66238577e083c3581ca15b73cf7031e28442cad5cc2c9911f3f0a1de95723422457ad928f67a3eb360575471541f43e04a81e2c1d67a16576aa84aeaef6596b60a2050819c9ca62ee36011e058778a1196f6079febab3707d3fd2a1769beea57ea7cf81593a587dbefbc2763a210aa2300f5782f6c0702a4b57b16d29af2f5be8fc52a9af54e9aa50daca51c9e0edd9370775609bebf3cc2b4c25dc9a1960e8129aa9d6bb52f6f9acdbef637e7e6864e982287dd869b63ac6c1ea874990ad05bed257112b542c11f7afa9bc238760bf2cf4feae8293cd3b4304f6ed765a4bc06755ad077f0052b23158a19c5caedeffea394937fe05fe75fb47d4653e02de4a5385d76fee1417305e0db4048a6e0fa0fb5042932edc5da32ffea7f84342231e1f45fd31fc494cf2b441d467a7729859168a7e13b99cd4c8146bb2ecc253665303ca7d53f8f144b424b1f42a7ab826c13fe42d1a2af4bed0394e408dd90267e61ae99ab748e224f280d567c4e4fbef1b3d58e9410a3dc150a70575f31e91bfec0ff1c392f921bedc1681144de7fdbb9546f889c1cd0a982f07b8f46eaf95a464f1094fa56ba7c1d13e842da26215af12c3f9afbed3ac26e013a34907c963e0dec5e01b6162ac7f9fbd50a6c2785cca1667cf7589d87af84917f961bed047e03b4639bda18bc49740760e8ec6940f44590fe83c6fa191fe43207483785b46766bdd221f875ec098ee7105d055866f8f6fe1e960d7c721fe01a0e392d8d6400519ffc4096a68fd2f2eacb46fb8a5e3dd8c42b11f244555816974585215ed0b5a56d551e0fe926156bc92063320517acfd53255a717b022210765d4d33f99d658960c8e8698a452116d160851db375c651525f16864a339fd1a60927d17d045d4ef30e0f6bf645a070233d5a3713fd3455cfbac031651384b539766a46b50d62132cf2b9da9364cae07d1a8786829deb1e623ddc0f0bf99c0a9f0d4802899edd79684bb137f323c4f04b44081e0916ecef095d6cfd7ba4b619e70869995b2bf3f87444548f18abe5ab991962e5862792fcc72b20488ea4360ab365e7270c97635b8b01d840b0379142e4ad37f0fe66f7475c01271ec2c55b6a32aa46b952ad8f886eae46b6bb1433e9364568b8c9f8a9298e86b36f38f7b5df903ca5b175f5f8102cae3aab1231262938f861ac12c8d43cdafd9e9ac587d9d117d4c976fe3f649a3594e509d67b2478b4ef52e6a6105ec17890f8338f72a000da931bbcded290aa43bb9e687b176d73fb6c5bdfe3ada3cec5fcaf0db873c4eca2a1bc2b4488eeaf5e79c3704aa88164ffa26bc1737044fbe94a7b4e27bd8e286108913ec90326b898463d1c34e6b938ed21126fa0cc8b909784670127e10c6a4e42ef2a2d184b6ecc483734beca1600c9dd9b3dd5d0259711202bd4160ff7d1249f18b11f4ac7ef92b15a701653b8883ddd4291d4406f628cdbdf9eeb39a85fd86fe8642fc8af47427c41135c5d14a18412bd56cd4204914a101cf74ff180a7d1c2c6f0fba7fcb71bd68edc3f781da00ab42ea294147e55550137a427d1c6211d20b6e61abb53b9745d4961de28d19d88b57a5af08f7e7bf665137653734a2e8bb0d6c0f9af322826847cebfd72cd8700385be3fbd9199c2d9063db31042b5cb2c0f70045064f743658fc7b4f2472f8db092165fd91776d1d531c8bd5ab16b06067502f78c9db19dc8a7dc2b1d0dc321b87238143839f98ebb94abd86400606fa3a5085f832701087728fa567975c2cfe9279a7a3224614cffe2b737f016fc61599e8959b8c51dcaf62dec2721fb0efd3262da2dad0695804366b3c0af5edf0104fde08c648f5944e52f823cc1d3b8a1ae05b517636d818cda111c03d8574890157989d592be3c1c3c7400e5694cb88b4bf1ff8738e1334c5aac28ade85308f82652a903dfa68ff431a0dfd39ef527583c5de3caf4c121632aaefd5f9957b360fb7e063a3617030d65c8d80a7f28f93690f5c6db2d0bd931483429e1e9f8cd95429910445615e477a50d05831cbc4d9708bd38f04554c7ad45a0bfbce19842187b12db19c13f4e406cf784d9a5f3810fb289558bb9ebca9f834a1f28c2406c5538b5b129381ac6230c73fe9ac0e56c7a0474dc82046f0a40f99f779fd1f82d01b342b6ce3ba107a84eb76dd678ac4d8f6de135dfcfc432026df602b1d81b4e7868a5762a577e1faacd889e99f3e791fa7c15212d0f11ef00588eb16e0044c7f4101d174206db87f705cd46918efa0f3af238141cdc057eb5839fa8f34fd2c9fa073bc30284cd32db0b4d3b32defee230cb56485ffafa5e38bfd20b89164266e3a108246b321bf82a83738c3ffafd4accd77930db0fdfa64723989d2ecde68d08bcbe052befed262c2ca58ef839dc575249406eb2d6a004a5ab7013f7105175cba89e48ae09a7a3b28206ce5a8ed0ea66fdc434d1bab5fe17a3f427fb7867733177ed1438ed4c3571279737c87da92ccd0190d7f4ec6ac3627a98fb2f65a190ce27e2dc54dbf8d6b95a39f69a1873be9408357b2a91903d3e589588e3033b41bb3ccde859224f59cb0d06e047e4cf6e0321826c0e8afb86630c48fae39519fa0ab344549cd7d9f7be353dc5acf36954df864a934b0976f7586fcda5a7a38cab3fb4bf575933fd20f534a166af95d8d1f8def556e58ea55a1319fea9ef652bbb61632fc07ae4a8e43bbc71bfbe3791de4f6f656784f1a0822e91ea94a04ddbcc2cc55a8c677e474c1c35e255e94fac0c2922229723b1539a08fe66f577723b2311aebddf9a44cdcb1e6ce4205af654a89015935847e25f77cf27543b43e469a6be0338e4fd7a4e1aed740bb0395effc54fdc354068517e6e8175d7497aa7e5078e20dd8e06e3e8443faeecbe5d51a2ed69cf427bd8fb25cc8e38fa9f09dbdcaec1c8b65dd3da35d194c0b7c1814634cec80089f8f9862f7a66a22e63ba59af2230d741d20377a2a92fe2a9ddb3938b3cac26a479e40065e50a30b71c246d8e90e1f76986ddc3829f7bf21bbdb74e7fb3c95ecd9cad36122768f8247cc01d5f98e2c28a35cc1bb08f2041e44f70205c3ff34c033967974a768ad4eafe4c6a368c0d5423ca475c9c4858e931d6aa7a40e71be2ee5676af17cf1d1f94047d485d380396140a4110d1f685c2a4b8ad78ee7ae6b0cb9142a53cf53f04c33b2e7e0ebd512c680fd9922c196b8f3d5fd8a38c7770474998cdd3bf2c80c5f5641dc196e123d99afae500d5265baa8ef24c90433851a78060c53cdbb8f3803984613d9e83f1bf2e3909cd8ae19d4692414e82854600a4c212e38917e4cc477ddb0e9df2a65c6062b69a6ce08449246933f0d32c14576f653da61629f34e37ab77abaafb1bed059af49e7a8fd8a7be1d26b9479ff2200653e89fe582ed76d1941dc410ea72d68f308fe7bb5e89f93355d1585ebe29e11113637f8cce1d545ab3a380de4a989b804d9006f54af77a7320f0fd22bd9264161d9f1304e1af5fcd29e3fefcd05a3a2dbf5b5721052c4a1a8aa3a6221ca3de9b59a5838301c776422aa9a19d2fe37d0d59307d564c4eb742af286a0fb8a93341b24eac97b7cdfa474ff8ef3c48bd2d41c1aea2ac16c99da69890f23176964d6e00dc276b53c738cafa12685b1fdb19d545933886b1565046eadfc2fecea377ac9528a2787d9b89b484afe950d04669e6cd08f5022c2702dd78e763923b4426cfa13ebcf5b7ecc8b95e52ac491a9641599285cd14bcf80034ed930ffa1427de3f1275a245eaef8d8edad599f39fa69756ea1aaea4fc280349811b4d72def4c3106db344a395db12a503004a545c94e591376f787f8860625e3769d28a3faaf4c2c2e031fa7ef1b3b446df42536991f62806960b80b85a70087be1a03e26c69b0b7babcb7bd4e6e327b7f96f97187e631a88ed1776e52a5c3a4114201a1304008a6073d29854514c0db03896075a67f4eeb383211df80e41dd9fc23db1fbcf406025c625dc197ab044948fe79ae81801a04f4d3b0ce6df751bf6d0512efc5c43e0a4c283bf172ed4692bafa29a421984f45325c791ae104a8a1fe6f1366e75962bb2b9c9780fdabdf1f8058c9874a7ce24bd7e4c288a64af73e689b129d49f95fb7697997fb7d0316fa88889c6322fbd34222b35a956078309c3969a6440c6805998b2e043437905ccea890dbcfa3c6c15d186e9003b0c2d8bac18ce8decac46b8fa8a0b04baf27f4103da4e195dc77925a79c03ac685d0edb65d78393f13e1cab63fd30b69a451e5e52cad20809b588ba7d56f53b546c91a874d7510a1bbc194e18deab8608d8a17b71bd70767b2b7153f02046d8b3a63962a8e2a6cf60768000544c524b46856bc80c3bf339290249abc1f5c766d91bea2cccdbf0d6cf40da451608ce5040a5483109a7903638944d7872db16c16783d7eaa128cbf0515f690a743a2421a5d850d549b81f59c37974cad764f8262d95b5fd3f3281c4cedb24fea34401e130bfdb2527c2500aff0cfe45934c31897d7f1b58ba69f534c6302119604be7b9b44c68703b69b657b34346aa4971507053e39bdcf75d2e0d999968de9cd1704c7dd3e01e8113e56eba7c353acaffd4ae899b7d08f753d32a24e77bd45158466695df377ab3ea23afdfa0ccec3d6c01dd7ea2c380884bc9dfb17d658f8be994c3fa629a58571c3d1abf57cf96018136b41d8885967ea23061c30fd1eaecbe3acec97fa531baa4d009c3a14092dc4a481e80c79b08b18109228af752121c35b7a1e9dc06642ad3a419ad3b74278355a9a9cf4c393ff9a713a62e634fe50c28a3d4517821256093e1c52238c352fc94784f6cb1dd481dd4d9ef126c62f528aa074949e68ebfe8c7a7dabee14f173fa7d40b25781bdc73fe9dbf7d4e23802e71a4a7b6ad3e1679f9138b89920a99791169d827eb8bdffd1622b55f33430cd740f29fa90ae93625cf860bdafbe895efeaf9a1f6037a5c5c62bd0c318bd3182edceb139300bce3422412fe97999a64f453937b8f22ddb090e3f4a53c5d7f742306ca4aec75536467e8932acc12b8e2bc011f7f64fa28a9b233ff606ec548372920055410b0f46c82ab6b03d2948e378e3d37bb7881f2cc9bd3d6ba435f6cde4e7841ece1c637a0e27cfbc1eccc08554932639c1ab4113fc13dced63db0cb9be0e2e0730c4eee675976e2d55fa823e252c2d4693ea2f15f1098559c0ae4a69babffa3c94b12f7932baa15dd2056c280d056c929a9e14263ee5c701afe419df65702cd5f896b4de48340c14bc39c262e7f0b6d2fd50ad452d1d7f0fa3e99405e657ca7e862ab806033ccf71859da2beaafaee8170a2d4477368d2dcd0a0522a3f5f91adc57f84dd13017a1c34a3986828c7d8fb1c89f665533b510d29910ed0cca160f53c5bcc03d13f32f9f90f4d88a66aafc39316960ddd438fd35d3376a1c91b01b39ab6a917169bd230fe767d51f21809c72b9f1adebaae9e35497ddec94ad6736ada3982047da1a4a020f8efbad173f0a93b46d62309f9b90c283478feaf7abd0c600c609f62dfe8afcb356deaaf67a8874482b6ca0d1b22a34fbe139c2b5c71d42e81cd4dbb58c87aff2ec9ef417126d99db3489aa8ce99ddf9800b5929f2b5ad57e0527028984b3ad254665cba7b5fb993c939360ad1557baf1ed16f4c08aea4bef0757ca72367ad8fb4a03d6dd646df49da88f143a32a0a8035c9b38c9fc355bb8a4982fcf02103ad6cfcdac2e8f641be3fb0b1e07db57fa18e216c25e8930daba769619835b55ba9b497ba07df7607339ff932ac1d110e39940d126592362e3baaedcd7d81d6bfc2aa3768541ec7baab968b9a4ccfda4d326c3b5a2e42143b528bd80152b81a00674abee720b1c1d96b4f8b2dfe8268629d9a081b188f0e8d083826d062f66cb949596d94534b27003c7d5610f43877e4c2d914734ec4c5c3f02510402e0c4ae106a605c1b58dfc488e9b13b747a9a3f5086459be0e82f9050a5fa4d63acfe814644489a2292b6bbfae507198cdf256d36e978ecb1c1ef6a31a3bd48ec244d0b051a9f7678252e95669065c380940fa0f5bc15aaa7e0e7670b5a1ce491bb720faaecd7adb9d15d92b04f4a50ffb029b1e58a22d49aad5029d76574cb3b412f0d749daefc3301cc89517ee860f86d9a5e9b4b810cf9ab4d4a314d9aa4b68e7ac5734a0ade2607aee2d33acb88b9d05c2549e066ea9b71f9e6fe43095c96786ba001a59938af78b1586834e114ff55d99de30743c480ad23ca3906587dd6b201d66dba4e5c2c2819d0734976c1dc790b09116824ef9abe9d26cc71de8ad087a455aa2a96c9add46281a6e4371d7e8fdc1e995f4bbd04f469f7c613d7be1d0e7f1518360ce93808aff2eba12d47f0f0ac81134e9fd98f085efd8fbc3cca130598a5b4514b848c77b8a87e98df6cbcff2db3c589dc4b1fb552c0dac3de39165b0e2b8273f6e99757e6b8950021eda98533795341e919b35ce0fe1dbed3cb3fa36aec3c7519aa4666f17fd73e42d73b6df0f49ffd4e638641a739cd1b1c33e844a5204b2b69c031728f492ad7fe0b06914d206e5c0e48214362451741fc032cdcde747d349251c7919212ad734be96ff1d2818527bf9fb36d8ec75abda016df5d75b30497810444fc4e99da1bb0c1451d677a05c46559a8e7a6bbe0bad593d3100fb90a8ffedeb04737980d087f7cd3e03225f3361ca89ecf9fe193beb</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>��ckr��һ�����͡�</title>
      <link href="/2021/11/04/%E2%80%9Cckr%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E2%80%9D/"/>
      <url>/2021/11/04/%E2%80%9Cckr%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8D%9A%E5%AE%A2%E2%80%9D/</url>
      
        <content type="html"><![CDATA[<h1 id="�ҳɹ��ˣ�"><a href="#�ҳɹ��ˣ�" class="headerlink" title="�ҳɹ��ˣ�"></a>�ҳɹ��ˣ�</h1>]]></content>
      
      
      
        <tags>
            
            <tag> one </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
